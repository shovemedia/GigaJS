/*

 JS Signals <http://millermedeiros.github.com/js-signals/>
 Released under the MIT license
 Author: Miller Medeiros
 Version: 0.7.3 - Build: 251 (2012/02/02 10:20 AM)
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 @author James Padolsey <https://gist.github.com/527683>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 New BSD License <http://creativecommons.org/licenses/BSD/>
 Copyright (c) 2008-2013, GreenSock. All rights reserved.
 This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 Club GreenSock members, the software agreement that was issued with your membership.

 @author: Jack Doyle, jack@greensock.com
 Copyright (c) 2008-2013, GreenSock. All rights reserved.
 This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 Club GreenSock members, the software agreement that was issued with your membership.

 @author: Jack Doyle, jack@greensock.com
 Copyright (c) 2008-2013, GreenSock. All rights reserved.
 This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 Club GreenSock members, the software agreement that was issued with your membership.

 @author: Jack Doyle, jack@greensock.com

 GigaJS <http://github.com/shovemedia/GigaJS>
 Released under the MIT license
 Author: Jon Williams
 MIT License (c) copyright 2011-2013 original author or authors */
var requirejs,require,define;
(function(h){function q(d,l){var c=l&&l.split("/"),n=a.map,f=n&&n["*"]||{},e,b,g,m,i,k;if(d&&d.charAt(0)==="."&&l){c=c.slice(0,c.length-1);d=c.concat(d.split("/"));for(i=0;e=d[i];i++)if(e===".")d.splice(i,1),i-=1;else if(e==="..")if(i===1&&(d[2]===".."||d[0]===".."))return!0;else i>0&&(d.splice(i-1,2),i-=2);d=d.join("/")}if((c||f)&&n){e=d.split("/");for(i=e.length;i>0;i-=1){b=e.slice(0,i).join("/");if(c)for(k=c.length;k>0;k-=1)if(g=n[c.slice(0,k).join("/")])if(g=g[b]){m=g;break}if(m=m||f[b]){e.splice(0,
i,m);d=e.join("/");break}}}return d}function j(a,l){return function(){return f.apply(h,c.call(arguments,0).concat([a,l]))}}function b(a){return function(l){return q(l,a)}}function p(a){return function(l){k[a]=l}}function m(a){if(e.hasOwnProperty(a)){var l=e[a];delete e[a];o[a]=!0;n.apply(h,l)}if(!k.hasOwnProperty(a))throw Error("No "+a);return k[a]}function i(a,l){var c,n,f=a.indexOf("!");f!==-1?(c=q(a.slice(0,f),l),a=a.slice(f+1),a=(n=m(c))&&n.normalize?n.normalize(a,b(l)):q(a,l)):a=q(a,l);return{f:c?
c+"!"+a:a,n:a,p:n}}function g(d){return function(){return a&&a.config&&a.config[d]||{}}}var k={},e={},a={},o={},c=[].slice,n,f;n=function(a,l,c,n){var f=[],b,q,y,M,D,n=n||a;if(typeof c==="function"){l=!l.length&&c.length?["require","exports","module"]:l;for(D=0;D<l.length;D++)if(M=i(l[D],n),y=M.f,y==="require")f[D]=j(a);else if(y==="exports")f[D]=k[a]={},b=!0;else if(y==="module")q=f[D]={id:a,uri:"",exports:k[a],config:g(a)};else if(k.hasOwnProperty(y)||e.hasOwnProperty(y))f[D]=m(y);else if(M.p)M.p.load(M.n,
j(n,!0),p(y),{}),f[D]=k[y];else if(!o[y])throw Error(a+" missing "+y);l=c.apply(k[a],f);if(a)if(q&&q.exports!==h&&q.exports!==k[a])k[a]=q.exports;else if(l!==h||!b)k[a]=l}else a&&(k[a]=c)};requirejs=require=f=function(d,l,c,e){if(typeof d==="string")return m(i(d,l).f);else d.splice||(a=d,l.splice?(d=l,l=c,c=null):d=h);l=l||function(){};e?n(h,d,l,c):setTimeout(function(){n(h,d,l,c)},15);return f};f.config=function(d){a=d;return f};define=function(a,l,c){l.splice||(c=l,l=[]);e[a]=[a,l,c]};define.amd=
{jQuery:!0}})();define("lib/almond",function(){});define("lib/jquery.withSelf",["jquery"],function(){require("jquery").fn.withSelf=function(h){return this.filter(h).add(h,this)}});
(function(h){function q(b,m,i,g,k){this._listener=m;this._isOnce=i;this.context=g;this._signal=b;this._priority=k||0}function j(b,m){if(typeof b!=="function")throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",m));}var b={VERSION:"0.7.3"};q.prototype={active:!0,params:null,execute:function(b){var m;this.active&&this._listener&&(b=this.params?this.params.concat(b):b,m=this._listener.apply(this.context,b),this._isOnce&&this.detach());return m},detach:function(){return this.isBound()?
this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},getListener:function(){return this._listener},_destroy:function(){delete this._signal;delete this._listener;delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};b.Signal=function(){this._bindings=[];this._prevParams=null};b.Signal.prototype={memorize:!1,_shouldPropagate:!0,
active:!0,_registerListener:function(b,m,i,g){var k=this._indexOfListener(b,i);if(k!==-1){if(b=this._bindings[k],b.isOnce()!==m)throw Error("You cannot add"+(m?"":"Once")+"() then add"+(!m?"":"Once")+"() the same listener without removing the relationship first.");}else b=new q(this,b,m,i,g),this._addBinding(b);this.memorize&&this._prevParams&&b.execute(this._prevParams);return b},_addBinding:function(b){var m=this._bindings.length;do--m;while(this._bindings[m]&&b._priority<=this._bindings[m]._priority);
this._bindings.splice(m+1,0,b)},_indexOfListener:function(b,m){for(var i=this._bindings.length,g;i--;)if(g=this._bindings[i],g._listener===b&&g.context===m)return i;return-1},has:function(b,m){return this._indexOfListener(b,m)!==-1},add:function(b,m,i){j(b,"add");return this._registerListener(b,!1,m,i)},addOnce:function(b,m,i){j(b,"addOnce");return this._registerListener(b,!0,m,i)},remove:function(b,m){j(b,"remove");var i=this._indexOfListener(b,m);i!==-1&&(this._bindings[i]._destroy(),this._bindings.splice(i,
1));return b},removeAll:function(){for(var b=this._bindings.length;b--;)this._bindings[b]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(b){if(this.active){var m=Array.prototype.slice.call(arguments),i=this._bindings.length,g;if(this.memorize)this._prevParams=m;if(i){g=this._bindings.slice();this._shouldPropagate=!0;do i--;while(g[i]&&this._shouldPropagate&&g[i].execute(m)!==!1)}}},forget:function(){this._prevParams=
null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};typeof define==="function"&&define.amd?define("lib/signals",[],function(){return b}):typeof module!=="undefined"&&module.exports?module.exports=b:h.signals=b})(this);
define("lib/History",["require"],function(){var h=window.console||void 0,q=window.document,j=window.navigator,b=window.sessionStorage||!1,p=window.setTimeout,m=window.clearTimeout,i=window.setInterval,g=window.clearInterval,k=window.JSON,e=window.alert,a=window.History=window.History||{},o=window.history;try{b.setItem("TEST","1"),b.removeItem("TEST")}catch(c){b=!1}k.stringify=k.stringify||k.encode;k.parse=k.parse||k.decode;if(typeof a.init!=="undefined")throw Error("History.js Core has already been loaded...");
a.Adapter={handlers:{},_uid:1,uid:function(c){return c._uid||(c._uid=a.Adapter._uid++)},bind:function(c,f,d){var l=a.Adapter.uid(c);a.Adapter.handlers[l]=a.Adapter.handlers[l]||{};a.Adapter.handlers[l][f]=a.Adapter.handlers[l][f]||[];a.Adapter.handlers[l][f].push(d);c["on"+f]=function(d,l){return function(c){a.Adapter.trigger(d,l,c)}}(c,f)},trigger:function(c,f,d){var d=d||{},c=a.Adapter.uid(c),l,b;a.Adapter.handlers[c]=a.Adapter.handlers[c]||{};a.Adapter.handlers[c][f]=a.Adapter.handlers[c][f]||
[];for(l=0,b=a.Adapter.handlers[c][f].length;l<b;++l)a.Adapter.handlers[c][f][l].apply(this,[d])},extractEventData:function(a,c){return c&&c[a]||void 0},onDomLoad:function(a){var c=window.setTimeout(function(){a()},2E3);window.onload=function(){m(c);a()}}};a.initHtml4=function(){if(typeof a.initHtml4.initialized!=="undefined")return!1;else a.initHtml4.initialized=!0;a.enabled=!0;a.savedHashes=[];a.isLastHash=function(c){var f=a.getHashByIndex();return c===f};a.isHashEqual=function(a,c){a=encodeURIComponent(a).replace(/%25/g,
"%");c=encodeURIComponent(c).replace(/%25/g,"%");return a===c};a.saveHash=function(c){if(a.isLastHash(c))return!1;a.savedHashes.push(c);return!0};a.getHashByIndex=function(c){var f=null;return f=typeof c==="undefined"?a.savedHashes[a.savedHashes.length-1]:c<0?a.savedHashes[a.savedHashes.length+c]:a.savedHashes[c]};a.discardedHashes={};a.discardedStates={};a.discardState=function(c,f,d){var l=a.getHashByState(c);a.discardedStates[l]={discardedState:c,backState:d,forwardState:f};return!0};a.discardHash=
function(c,f,d){a.discardedHashes[c]={discardedHash:c,backState:d,forwardState:f};return!0};a.discardedState=function(c){c=a.getHashByState(c);return a.discardedStates[c]||!1};a.discardedHash=function(c){return a.discardedHashes[c]||!1};a.recycleState=function(c){var f=a.getHashByState(c);a.discardedState(c)&&delete a.discardedStates[f];return!0};if(a.emulated.hashChange)a.hashChangeInit=function(){a.checkerFunction=null;var c="",f,d,l,b=Boolean(a.getHash());a.isInternetExplorer()?(f=q.createElement("iframe"),
f.setAttribute("id","historyjs-iframe"),f.setAttribute("src","#"),f.style.display="none",q.body.appendChild(f),f.contentWindow.document.open(),f.contentWindow.document.close(),d="",l=!1,a.checkerFunction=function(){if(l)return!1;l=!0;var e=a.getHash(),g=a.getHash(f.contentWindow.document);if(e!==c){c=e;if(g!==e)d=e,f.contentWindow.document.open(),f.contentWindow.document.close(),f.contentWindow.document.location.hash=a.escapeHash(e);a.Adapter.trigger(window,"hashchange")}else g!==d&&(d=g,b&&g===""?
a.back():a.setHash(g,!1));l=!1;return!0}):a.checkerFunction=function(){var d=a.getHash()||"";d!==c&&(c=d,a.Adapter.trigger(window,"hashchange"));return!0};a.intervalList.push(i(a.checkerFunction,a.options.hashChangeInterval));return!0},a.Adapter.onDomLoad(a.hashChangeInit);if(a.emulated.pushState)a.onHashChange=function(c){var c=c&&c.newURL||a.getLocationHref(),f=a.getHashByUrl(c),c=null;if(a.isLastHash(f))return a.busy(!1),!1;a.doubleCheckComplete();a.saveHash(f);if(f&&a.isTraditionalAnchor(f))return a.Adapter.trigger(window,
"anchorchange"),a.busy(!1),!1;c=a.extractState(a.getFullUrl(f||a.getLocationHref()),!0);if(a.isLastSavedState(c))return a.busy(!1),!1;a.getHashByState(c);if(f=a.discardedState(c))return a.getHashByIndex(-2)===a.getHashByState(f.forwardState)?a.back(!1):a.forward(!1),!1;a.pushState(c.data,c.title,encodeURI(c.url),!1);return!0},a.Adapter.bind(window,"hashchange",a.onHashChange),a.pushState=function(c,f,d,l){d=encodeURI(d).replace(/%25/g,"%");if(a.getHashByUrl(d))throw Error("History.js does not support states with fragment-identifiers (hashes/anchors).");
if(l!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.pushState,args:arguments,queue:l}),!1;a.busy(!0);var b=a.createStateObject(c,f,d),e=a.getHashByState(b),g=a.getState(!1),g=a.getHashByState(g),m=a.getHash(),i=a.expectedStateId==b.id;a.storeState(b);a.expectedStateId=b.id;a.recycleState(b);a.setTitle(b);if(e===g)return a.busy(!1),!1;a.saveState(b);i||a.Adapter.trigger(window,"statechange");!a.isHashEqual(e,m)&&!a.isHashEqual(e,a.getShortUrl(a.getLocationHref()))&&a.setHash(e,!1);a.busy(!1);
return!0},a.replaceState=function(c,b,d,l){d=encodeURI(d).replace(/%25/g,"%");if(a.getHashByUrl(d))throw Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(l!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.replaceState,args:arguments,queue:l}),!1;a.busy(!0);var e=a.createStateObject(c,b,d),g=a.getHashByState(e),m=a.getState(!1),i=a.getHashByState(m),k=a.getStateByIndex(-2);a.discardState(m,e,k);g===i?(a.storeState(e),a.expectedStateId=e.id,a.recycleState(e),
a.setTitle(e),a.saveState(e),a.Adapter.trigger(window,"statechange"),a.busy(!1)):a.pushState(e.data,e.title,e.url,!1);return!0};if(a.emulated.pushState&&a.getHash()&&!a.emulated.hashChange)a.Adapter.onDomLoad(function(){a.Adapter.trigger(window,"hashchange")})};a.init=function(){if(typeof a.Adapter==="undefined")return!1;typeof a.initCore!=="undefined"&&a.initCore();typeof a.initHtml4!=="undefined"&&a.initHtml4();return!0};a.initCore=function(){if(typeof a.initCore.initialized!=="undefined")return!1;
else a.initCore.initialized=!0;a.options=a.options||{};a.options.hashChangeInterval=a.options.hashChangeInterval||100;a.options.safariPollInterval=a.options.safariPollInterval||500;a.options.doubleCheckInterval=a.options.doubleCheckInterval||500;a.options.disableSuid=a.options.disableSuid||!1;a.options.storeInterval=a.options.storeInterval||1E3;a.options.busyDelay=a.options.busyDelay||250;a.options.debug=a.options.debug||!1;a.options.initialTitle=a.options.initialTitle||q.title;a.options.html4Mode=
a.options.html4Mode||!1;a.options.delayInit=a.options.delayInit||!1;a.intervalList=[];a.clearAllIntervals=function(){var d,c=a.intervalList;if(typeof c!=="undefined"&&c!==null){for(d=0;d<c.length;d++)g(c[d]);a.intervalList=null}};a.debug=function(){a.options.debug&&a.log.apply(a,arguments)};a.log=function(){var a=!(typeof h==="undefined"||typeof h.log==="undefined"||typeof h.log.apply==="undefined"),c=q.getElementById("log"),b,f,g,m;a?(f=Array.prototype.slice.call(arguments),b=f.shift(),typeof h.debug!==
"undefined"?h.debug.apply(h,[b,f]):h.log.apply(h,[b,f])):b="\n"+arguments[0]+"\n";for(f=1,g=arguments.length;f<g;++f){m=arguments[f];if(typeof m==="object"&&typeof k!=="undefined")try{m=k.stringify(m)}catch(n){}b+="\n"+m+"\n"}c?(c.value+=b+"\n-----\n",c.scrollTop=c.scrollHeight-c.clientHeight):a||e(b);return!0};a.getInternetExplorerMajorVersion=function(){return a.getInternetExplorerMajorVersion.cached=typeof a.getInternetExplorerMajorVersion.cached!=="undefined"?a.getInternetExplorerMajorVersion.cached:
function(){for(var a=3,c=q.createElement("div"),b=c.getElementsByTagName("i");(c.innerHTML="<\!--[if gt IE "+ ++a+"]><i></i><![endif]--\>")&&b[0];);return a>4?a:!1}()};a.isInternetExplorer=function(){return a.isInternetExplorer.cached=typeof a.isInternetExplorer.cached!=="undefined"?a.isInternetExplorer.cached:Boolean(a.getInternetExplorerMajorVersion())};a.emulated=a.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(window.history&&window.history.pushState&&window.history.replaceState&&
!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(j.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(j.userAgent))),hashChange:Boolean(!("onhashchange"in window||"onhashchange"in q)||a.isInternetExplorer()&&a.getInternetExplorerMajorVersion()<8)};a.enabled=!a.emulated.pushState;a.bugs={setHash:Boolean(!a.emulated.pushState&&j.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(j.userAgent)),safariPoll:Boolean(!a.emulated.pushState&&j.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(j.userAgent)),
ieDoubleCheck:Boolean(a.isInternetExplorer()&&a.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(a.isInternetExplorer()&&a.getInternetExplorerMajorVersion()<7)};a.isEmptyObject=function(a){for(var c in a)if(a.hasOwnProperty(c))return!1;return!0};a.cloneObject=function(a){a?(a=k.stringify(a),a=k.parse(a)):a={};return a};a.getRootUrl=function(){var a=q.location.protocol+"//"+(q.location.hostname||q.location.host);q.location.port&&(a+=":"+q.location.port);a+="/";return a};a.getBaseHref=function(){var a=
q.getElementsByTagName("base"),c=null,c="";a.length===1&&(c=a[0],c=c.href.replace(/[^\/]+$/,""));(c=c.replace(/\/+$/,""))&&(c+="/");return c};a.getBaseUrl=function(){return a.getBaseHref()||a.getBasePageUrl()||a.getRootUrl()};a.getPageUrl=function(){return((a.getState(!1,!1)||{}).url||a.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(a){return/\./.test(a)?a:a+"/"})};a.getBasePageUrl=function(){return a.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a){return/[^\/]$/.test(a)?
"":a}).replace(/\/+$/,"")+"/"};a.getFullUrl=function(d,c){var b=d,e=d.substring(0,1),c=typeof c==="undefined"?!0:c;/[a-z]+\:\/\//.test(d)||(b=e==="/"?a.getRootUrl()+d.replace(/^\/+/,""):e==="#"?a.getPageUrl().replace(/#.*/,"")+d:e==="?"?a.getPageUrl().replace(/[\?#].*/,"")+d:c?a.getBaseUrl()+d.replace(/^(\.\/)+/,""):a.getBasePageUrl()+d.replace(/^(\.\/)+/,""));return b.replace(/\#$/,"")};a.getShortUrl=function(d){var c=a.getBaseUrl(),b=a.getRootUrl();a.emulated.pushState&&(h.log("History.getShortUrl IE ::  shortUrl: "+
d+"  baseUrl "+c),d=d.replace(c,""));d=d.replace(b,"/");h.log("short url pre: ",d);a.isTraditionalAnchor(d);d=d.replace(/^(\.\/)+/g,"./").replace(/\#$/,"");h.log("short url post: ",d);return d};a.getLocationHref=function(a){a=a||q;return a.URL===a.location.href?a.location.href:a.location.href===decodeURIComponent(a.URL)?a.URL:a.location.hash&&decodeURIComponent(a.location.href.replace(/^[^#]+/,""))===a.location.hash?a.location.href:a.URL.indexOf("#")==-1&&a.location.href.indexOf("#")!=-1?a.location.href:
a.URL||a.location.href};a.store={};a.idToState=a.idToState||{};a.stateToId=a.stateToId||{};a.urlToId=a.urlToId||{};a.storedStates=a.storedStates||[];a.savedStates=a.savedStates||[];a.normalizeStore=function(){a.store.idToState=a.store.idToState||{};a.store.urlToId=a.store.urlToId||{};a.store.stateToId=a.store.stateToId||{}};a.getState=function(d,c){typeof d==="undefined"&&(d=!0);typeof c==="undefined"&&(c=!0);var b=a.getLastSavedState();!b&&c&&(b=a.createStateObject());if(d)b=a.cloneObject(b),b.url=
b.cleanUrl||b.url;return b};a.getIdByState=function(d){var c=a.extractId(d.url),b;if(!c)if(b=a.getStateString(d),typeof a.stateToId[b]!=="undefined")c=a.stateToId[b];else if(typeof a.store.stateToId[b]!=="undefined")c=a.store.stateToId[b];else{for(;;)if(c=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),typeof a.idToState[c]==="undefined"&&typeof a.store.idToState[c]==="undefined")break;a.stateToId[b]=c;a.idToState[c]=d}return c};a.normalizeState=function(d){var c;if(!d||typeof d!=="object")d=
{};if(typeof d.normalized!=="undefined")return d;if(!d.data||typeof d.data!=="object")d.data={};c={normalized:!0};c.title=d.title||"";c.url=a.getFullUrl(d.url?d.url:a.getLocationHref());c.hash=a.getShortUrl(c.url);c.data=a.cloneObject(d.data);c.id=a.getIdByState(c);c.cleanUrl=c.url.replace(/\??\&_suid.*/,"");c.url=c.cleanUrl;d=!a.isEmptyObject(c.data);if((c.title||d)&&a.options.disableSuid!==!0)c.hash=a.getShortUrl(c.url).replace(/\??\&_suid.*/,""),/\?/.test(c.hash)||(c.hash+="?"),c.hash+="&_suid="+
c.id;c.hashedUrl=a.getFullUrl(c.hash);if((a.emulated.pushState||a.bugs.safariPoll)&&a.hasUrlDuplicate(c))c.url=c.hashedUrl;return c};a.createStateObject=function(d,c,b){d={data:d,title:c,url:b};return d=a.normalizeState(d)};a.getStateById=function(d){d=String(d);return a.idToState[d]||a.store.idToState[d]||void 0};a.getStateString=function(d){d={data:a.normalizeState(d).data,title:d.title,url:d.url};return k.stringify(d)};a.getStateId=function(d){return a.normalizeState(d).id};a.getHashByState=function(d){return a.normalizeState(d).hash};
a.extractId=function(a){return((a=/(.*)\&_suid=([0-9]+)$/.exec(a.indexOf("#")!=-1?a.split("#")[0]:a))?String(a[2]||""):"")||!1};a.isTraditionalAnchor=function(a){return!/[\/\?\.]/.test(a)};a.extractState=function(d,c){var b=null,e,f,c=c||!1;(e=a.extractId(d))&&(b=a.getStateById(e));b||(f=a.getFullUrl(d),(e=a.getIdByUrl(f)||!1)&&(b=a.getStateById(e)),!b&&c&&!a.isTraditionalAnchor(d)&&(b=a.createStateObject(null,null,f)));return b};a.getIdByUrl=function(d){return a.urlToId[d]||a.store.urlToId[d]||void 0};
a.getLastSavedState=function(){return a.savedStates[a.savedStates.length-1]||void 0};a.getLastStoredState=function(){return a.storedStates[a.storedStates.length-1]||void 0};a.hasUrlDuplicate=function(d){var c=!1;return c=(c=a.extractState(d.url))&&c.id!==d.id};a.storeState=function(d){a.urlToId[d.url]=d.id;a.storedStates.push(a.cloneObject(d));return d};a.isLastSavedState=function(d){var c=!1;if(a.savedStates.length)d=d.id,c=a.getLastSavedState(),c=c.id,c=d===c;return c};a.saveState=function(d){if(a.isLastSavedState(d))return!1;
a.savedStates.push(a.cloneObject(d));return!0};a.getStateByIndex=function(d){var c=null;return c=typeof d==="undefined"?a.savedStates[a.savedStates.length-1]:d<0?a.savedStates[a.savedStates.length+d]:a.savedStates[d]};a.getCurrentIndex=function(){var d=null;return d=a.savedStates.length<1?0:a.savedStates.length-1};a.getHash=function(d){d=a.getLocationHref(d);return a.getHashByUrl(d)};a.unescapeHash=function(d){d=a.normalizeHash(d);return d=decodeURIComponent(d)};a.normalizeHash=function(a){return a.replace(/[^#]*#/,
"").replace(/#.*/,"")};a.setHash=function(d,c){var b;if(c!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.setHash,args:arguments,queue:c}),!1;a.busy(!0);if((b=a.extractState(d,!0))&&!a.emulated.pushState)a.pushState(b.data,b.title,b.url,!1);else if(a.getHash()!==d)a.bugs.setHash?(b=a.getPageUrl(),a.pushState(null,null,b+"#"+d,!1)):q.location.hash=d;return a};a.escapeHash=function(d){d=a.normalizeHash(d);d=window.encodeURIComponent(d);a.bugs.hashEscape||(d=d.replace(/\%21/g,"!").replace(/\%26/g,
"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?"));return d};a.getHashByUrl=function(d){d=String(d).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return d=a.unescapeHash(d)};a.setTitle=function(d){var c=d.title,b;c||(b=a.getStateByIndex(0))&&b.url===d.url&&(c=b.title||a.options.initialTitle);try{q.getElementsByTagName("title")[0].innerHTML=c.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}q.title=c;return a};a.queues=[];a.busy=function(d){if(typeof d!=="undefined")a.busy.flag=d;else if(typeof a.busy.flag===
"undefined")a.busy.flag=!1;if(!a.busy.flag){m(a.busy.timeout);var c=function(){var d,b;if(!a.busy.flag)for(d=a.queues.length-1;d>=0;--d)if(b=a.queues[d],b.length!==0)b=b.shift(),a.fireQueueItem(b),a.busy.timeout=p(c,a.options.busyDelay)};a.busy.timeout=p(c,a.options.busyDelay)}return a.busy.flag};a.busy.flag=!1;a.fireQueueItem=function(d){return d.callback.apply(d.scope||a,d.args||[])};a.pushQueue=function(d){a.queues[d.queue||0]=a.queues[d.queue||0]||[];a.queues[d.queue||0].push(d);return a};a.queue=
function(d,c){typeof d==="function"&&(d={callback:d});if(typeof c!=="undefined")d.queue=c;a.busy()?a.pushQueue(d):a.fireQueueItem(d);return a};a.clearQueue=function(){a.busy.flag=!1;a.queues=[];return a};a.stateChanged=!1;a.doubleChecker=!1;a.doubleCheckComplete=function(){a.stateChanged=!0;a.doubleCheckClear();return a};a.doubleCheckClear=function(){if(a.doubleChecker)m(a.doubleChecker),a.doubleChecker=!1;return a};a.doubleCheck=function(d){a.stateChanged=!1;a.doubleCheckClear();if(a.bugs.ieDoubleCheck)a.doubleChecker=
p(function(){a.doubleCheckClear();a.stateChanged||d();return!0},a.options.doubleCheckInterval);return a};a.safariStatePoll=function(){var d=a.extractState(a.getLocationHref());if(!a.isLastSavedState(d))return d||a.createStateObject(),a.Adapter.trigger(window,"popstate"),a};a.back=function(d){if(d!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.back,args:arguments,queue:d}),!1;a.busy(!0);a.doubleCheck(function(){a.back(!1)});o.go(-1);return!0};a.forward=function(d){if(d!==!1&&a.busy())return a.pushQueue({scope:a,
callback:a.forward,args:arguments,queue:d}),!1;a.busy(!0);a.doubleCheck(function(){a.forward(!1)});o.go(1);return!0};a.go=function(d,c){var b;if(d>0)for(b=1;b<=d;++b)a.forward(c);else if(d<0)for(b=-1;b>=d;--b)a.back(c);else throw Error("History.go: History.go requires a positive or negative integer passed.");return a};if(a.emulated.pushState){var c=function(){};a.pushState=a.pushState||c;a.replaceState=a.replaceState||c}else a.onPopState=function(d,c){var b=!1,b=!1;a.doubleCheckComplete();if(b=a.getHash())return(b=
a.extractState(b||a.getLocationHref(),!0))?a.replaceState(b.data,b.title,b.url,!1):(a.Adapter.trigger(window,"anchorchange"),a.busy(!1)),a.expectedStateId=!1;(b=(b=a.Adapter.extractEventData("state",d,c)||!1)?a.getStateById(b):a.expectedStateId?a.getStateById(a.expectedStateId):a.extractState(a.getLocationHref()))||(b=a.createStateObject(null,null,a.getLocationHref()));a.expectedStateId=!1;if(a.isLastSavedState(b))return a.busy(!1),!1;a.storeState(b);a.saveState(b);a.setTitle(b);a.Adapter.trigger(window,
"statechange");a.busy(!1);return!0},a.Adapter.bind(window,"popstate",a.onPopState),a.pushState=function(d,c,b,e){if(a.getHashByUrl(b)&&a.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.pushState,args:arguments,queue:e}),!1;a.busy(!0);var f=a.createStateObject(d,c,b);a.isLastSavedState(f)?a.busy(!1):(a.storeState(f),a.expectedStateId=f.id,o.pushState(f.id,f.title,f.url),a.Adapter.trigger(window,
"popstate"));return!0},a.replaceState=function(d,c,b,e){if(a.getHashByUrl(b)&&a.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&a.busy())return a.pushQueue({scope:a,callback:a.replaceState,args:arguments,queue:e}),!1;a.busy(!0);var f=a.createStateObject(d,c,b);a.isLastSavedState(f)?a.busy(!1):(a.storeState(f),a.expectedStateId=f.id,o.replaceState(f.id,f.title,f.url),a.Adapter.trigger(window,"popstate"));return!0};if(b)try{a.store=
k.parse(b.getItem("History.store"))||{}}catch(f){a.store={}}else a.store={};a.normalizeStore();a.Adapter.bind(window,"unload",a.clearAllIntervals);a.saveState(a.storeState(a.extractState(a.getLocationHref(),!0)));if(b)a.onUnload=function(){var d,c;try{d=k.parse(b.getItem("History.store"))||{}}catch(f){d={}}d.idToState=d.idToState||{};d.urlToId=d.urlToId||{};d.stateToId=d.stateToId||{};for(c in a.idToState)a.idToState.hasOwnProperty(c)&&(d.idToState[c]=a.idToState[c]);for(c in a.urlToId)a.urlToId.hasOwnProperty(c)&&
(d.urlToId[c]=a.urlToId[c]);for(c in a.stateToId)a.stateToId.hasOwnProperty(c)&&(d.stateToId[c]=a.stateToId[c]);a.store=d;a.normalizeStore();d=k.stringify(d);try{b.setItem("History.store",d)}catch(e){if(e.code===DOMException.QUOTA_EXCEEDED_ERR)b.length&&(b.removeItem("History.store"),b.setItem("History.store",d));else throw e;}},a.intervalList.push(i(a.onUnload,a.options.storeInterval)),a.Adapter.bind(window,"beforeunload",a.onUnload),a.Adapter.bind(window,"unload",a.onUnload);if(!a.emulated.pushState&&
(a.bugs.safariPoll&&a.intervalList.push(i(a.safariStatePoll,a.options.safariPollInterval)),j.vendor==="Apple Computer, Inc."||(j.appCodeName||"")==="Mozilla"))if(a.Adapter.bind(window,"hashchange",function(){a.Adapter.trigger(window,"popstate")}),a.getHash())a.Adapter.onDomLoad(function(){a.Adapter.trigger(window,"hashchange")})};(!a.options||!a.options.delayInit)&&a.init();return a});
define("lib/giga/StateMachine",["require","lib/signals"],function(h){var q=h("lib/signals"),h=function(b){this.state=b;this.transitionsFor={};this.on={}},j=h.prototype;j.setTransitionsFor=function(b,h){this.transitionsFor[b]=h;for(var m in h)b=h[m],this.on[b]==void 0&&(this.on[b]=new q.Signal)};j.getTransitionFor=function(b){try{return this.transitionsFor[this.state][b]}catch(h){throw console.log("event",b),console.log("transitions",this.transitionsFor,this.state),Error("Invalid Event");}};j.trigger=
function(b){b=this.getTransitionFor(b);return b!=void 0?(this.state=b,this.on[this.state].dispatch(),!0):!1};j.reset=function(){for(var b in this.on)b=this.on[b],this.on[b]!=void 0&&this.on[b].removeAll()};return h});
define("lib/giga/Step",["require","lib/signals"],function(h){var q=h("lib/signals"),h=function(b){this.name=b;this.holds=0;this.on={hold:new q.Signal,release:new q.Signal};this.init()},j=h.prototype;j.init=function(){var b=this;this.on.hold.add(function(){b.holdAction()});this.on.release.add(function(){b.releaseAction()})};j.deinit=function(){this.on.hold.removeAll();this.on.release.removeAll()};j.hold=function(){this.on.hold.dispatch()};j.holdAction=function(){console.log("holdAction");this.holds++};
j.release=function(){this.on.release.dispatch()};j.releaseAction=function(){console.log("releaseAction");this.holds--;this.check()};j.waiting=function(){return this.holds==0?!1:!0};j.check=function(){console.log("step check",this.name);this.waiting()?console.log("holds",this.holds,this.name):(console.log("step next!",this.name),this.next())};j.reset=function(){this.deinit();this.holds=0;this.init()};return h});
define("lib/giga/SiteController",["require","lib/giga/StateMachine","lib/giga/Step","lib/signals"],function(h){var q=h("lib/giga/StateMachine"),j=h("lib/giga/Step"),b=h("lib/signals"),h=function(m){this.flowController=m;this.transitionOutStep=new j;this.preloadStep=new j;this.transitionInStep=new j;this.transitionOutStep.next=this.preloadStep.next=this.transitionInStep.next=this.nextStep.bind(this);this.on={transitionOut:new b.Signal,transitionIn:new b.Signal,transitionCross:new b.Signal,preload:new b.Signal,
complete:new b.Signal};this.currentStep=null},p=h.prototype;p.init=function(b){if(b==void 0||this.currentFlow!=b)switch(b){case this.flowController.PRELOAD_FLOW:this.currentFlow=this.flowController.PRELOAD_FLOW;this.initPreloadFlow();this.initStateListeners();break;case this.flowController.REVERSE_FLOW:this.currentFlow=this.flowController.REVERSE_FLOW;this.initReverseFlow();this.initCrossListeners();break;case this.flowController.CROSS_FLOW:this.currentFlow=this.flowController.CROSS_FLOW;this.initCrossFlow();
this.initStateCrossListeners();break;default:this.currentFlow=this.flowController.NORMAL_FLOW,this.initNormalFlow(),this.initStateListeners()}};p.initNormalFlow=function(){this.stateMachine=new q("start");this.stateMachine.setTransitionsFor("start",{"continue":"transitionOut"});this.stateMachine.setTransitionsFor("transitionOut",{"continue":"preload"});this.stateMachine.setTransitionsFor("preload",{"continue":"transitionIn"});this.stateMachine.setTransitionsFor("transitionIn",{"continue":"complete"});
this.stateMachine.setTransitionsFor("complete",{reset:"start"})};p.initPreloadFlow=function(){this.stateMachine=new q("start");this.stateMachine.setTransitionsFor("start",{"continue":"preload"});this.stateMachine.setTransitionsFor("preload",{"continue":"transitionOut"});this.stateMachine.setTransitionsFor("transitionOut",{"continue":"transitionIn"});this.stateMachine.setTransitionsFor("transitionIn",{"continue":"complete"});this.stateMachine.setTransitionsFor("complete",{reset:"start"})};p.initReverseFlow=
function(){this.stateMachine=new q("start");this.stateMachine.setTransitionsFor("start",{"continue":"preload"});this.stateMachine.setTransitionsFor("preload",{"continue":"transitionIn"});this.stateMachine.setTransitionsFor("transitionIn",{"continue":"transitionOut"});this.stateMachine.setTransitionsFor("transitionOut",{"continue":"complete"});this.stateMachine.setTransitionsFor("complete",{reset:"start"})};p.initCrossFlow=function(){this.stateMachine=new q("start");this.stateMachine.setTransitionsFor("start",
{"continue":"preload"});this.stateMachine.setTransitionsFor("preload",{"continue":"transition"});this.stateMachine.setTransitionsFor("transition",{"continue":"complete"});this.stateMachine.setTransitionsFor("complete",{reset:"start"})};p.initStateListeners=function(){var b=this;this.stateMachine.on.transitionOut.add(function(){console.log("SiteController transition out",b);b.currentStep=b.transitionOutStep;b.on.transitionOut.dispatch(b.currentStep);b.currentStep.check()});this.stateMachine.on.preload.add(function(){console.log("SiteController preload");
b.currentStep=b.preloadStep;b.on.preload.dispatch(b.currentStep);b.currentStep.check()});this.stateMachine.on.transitionIn.add(function(){console.log("SiteController transition in");b.currentStep=b.transitionInStep;b.on.transitionIn.dispatch(b.currentStep);b.currentStep.check()});this.stateMachine.on.complete.add(function(){console.log("SiteController complete");b.currentStep=null;b.stateMachine.trigger("reset");b.on.complete.dispatch()})};p.initStateCrossListeners=function(){var b=this;this.stateMachine.on.preload.add(function(){console.log("SiteController preload");
b.currentStep=b.preloadStep;b.on.preload.dispatch(b.currentStep);b.currentStep.check()});this.stateMachine.on.transition.add(function(){console.log("SiteController transition");b.currentStep=b.transitionInStep;b.on.transitionCross.dispatch(b.currentStep);b.currentStep.check()});this.stateMachine.on.complete.add(function(){console.log("SiteController complete");b.currentStep=null;b.stateMachine.trigger("reset");b.on.complete.dispatch()})};p.isBusy=function(){return this.currentStep!=null?!0:!1};p.nextStep=
function(){console.log("SiteController state",this.stateMachine.state);this.stateMachine.trigger("continue")};p.processPageChange=function(){this.nextStep()};return h});
define("lib/giga/FlowController",["require"],function(){var h=function(){this.defaultFlow=this.NORMAL_FLOW;this.flowsByBranch=[]},q=h.prototype;q.NORMAL_FLOW="NORMAL_FLOW";q.PRELOAD_FLOW="PRELOAD_FLOW";q.REVERSE_FLOW="REVERSE_FLOW";q.CROSS_FLOW="CROSS_FLOW";q.setDefaultFlow=function(h){this.defaultFlow=h};q.getDefaultFlow=function(){return this.defaultFlow};q.setBranchFlow=function(h,b){this.flowsByBranch[h]=b};q.getBranchFlow=function(h){return this.flowsByBranch[h]};return h});
define("lib/tween/TweenLite",["require"],function(){(function(h){var q=h.GreenSockGlobals||h;if(!q.TweenLite){var j=function(a){var a=a.split("."),d=q,c;for(c=0;c<a.length;c++)d[a[c]]=d=d[a[c]]||{};return d},b=j("com.greensock"),p=[].slice,m=function(){},i=function(){var a=Object.prototype.toString,d=a.call([]);return function(c){return c instanceof Array||typeof c==="object"&&!!c.push&&a.call(c)===d}}(),g,k,e,a,o,c={},n=function(a,d,b,e){this.sc=c[a]?c[a].sc:[];c[a]=this;this.gsClass=null;this.func=
b;var f=[];this.check=function(l){for(var g=d.length,i=g,k,m;--g>-1;)(k=c[d[g]]||new n(d[g],[])).gsClass?(f[g]=k.gsClass,i--):l&&k.sc.push(this);if(i===0&&b){l=("com.greensock."+a).split(".");g=l.pop();m=j(l.join("."))[g]=this.gsClass=b.apply(b,f);if(e)if(q[g]=m,typeof define==="function"&&define.amd)define((h.GreenSockAMDPath?h.GreenSockAMDPath+"/":"")+a.split(".").join("/"),[],function(){return m});else if(typeof module!=="undefined"&&module.exports)module.exports=m;for(g=0;g<this.sc.length;g++)this.sc[g].check()}};
this.check(!0)},f=h._gsDefine=function(a,d,c,b){return new n(a,d,c,b)},d=b._class=function(a,d,c){d=d||function(){};f(a,[],function(){return d},c);return d};f.globals=q;var l=[0,0,1,1],aa=[],F=d("easing.Ease",function(a,d,c,b){this._func=a;this._type=c||0;this._power=b||0;this._params=d?l.concat(d):l},!0),Q=F.map={},T=F.register=function(a,c,V,f){for(var c=c.split(","),e=c.length,V=(V||"easeIn,easeOut,easeInOut").split(","),l,g,n,i;--e>-1;){g=c[e];l=f?d("easing."+g,null,!0):b.easing[g]||{};for(n=
V.length;--n>-1;)i=V[n],Q[g+"."+i]=Q[i+g]=l[i]=a.getRatio?a:a[i]||new a}};e=F.prototype;e._calcEnd=!1;e.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var d=this._type,c=this._power,b=d===1?1-a:d===2?a:a<0.5?a*2:(1-a)*2;c===1?b*=b:c===2?b*=b*b:c===3?b*=b*b*b:c===4&&(b*=b*b*b*b);return d===1?1-b:d===2?b:a<0.5?b/2:1-b/2};g=["Linear","Quad","Cubic","Quart","Quint,Strong"];for(k=g.length;--k>-1;)e=g[k]+",Power"+k,T(new F(null,null,1,k),e,"easeOut",!0),
T(new F(null,null,2,k),e,"easeIn"+(k===0?",easeNone":"")),T(new F(null,null,3,k),e,"easeInOut");Q.linear=b.easing.Linear.easeIn;Q.swing=b.easing.Quad.easeInOut;var U=d("events.EventDispatcher",function(a){this._listeners={};this._eventTarget=a||this});e=U.prototype;e.addEventListener=function(d,c,b,e,f){var f=f||0,g=this._listeners[d],l=0,n;g==null&&(this._listeners[d]=g=[]);for(n=g.length;--n>-1;)d=g[n],d.c===c&&d.s===b?g.splice(n,1):l===0&&d.pr<f&&(l=n+1);g.splice(l,0,{c:c,s:b,up:e,pr:f});this===
a&&!o&&a.wake()};e.removeEventListener=function(a,d){var c=this._listeners[a],b;if(c)for(b=c.length;--b>-1;)if(c[b].c===d){c.splice(b,1);break}};e.dispatchEvent=function(a){var d=this._listeners[a],c,b,f;if(d){c=d.length;for(b=this._eventTarget;--c>-1;)f=d[c],f.up?f.c.call(f.s||b,{type:a,target:b}):f.c.call(f.s||b)}};var y=h.requestAnimationFrame,M=h.cancelAnimationFrame,D=Date.now||function(){return(new Date).getTime()},W=D();g=["ms","moz","webkit","o"];for(k=g.length;--k>-1&&!y;)y=h[g[k]+"RequestAnimationFrame"],
M=h[g[k]+"CancelAnimationFrame"]||h[g[k]+"CancelRequestAnimationFrame"];d("Ticker",function(d,c){var b=this,f=D(),e=c!==!1&&y,g,l,n,i,k,h=function(a){W=D();b.time=(W-f)/1E3;var d=b.time-k,c;if(!g||d>0||a===!0)b.frame++,k+=d+(d>=i?0.0040:i-d),c=!0;a!==!0&&(n=l(h));c&&b.dispatchEvent("tick")};U.call(b);b.time=b.frame=0;b.tick=function(){h(!0)};b.sleep=function(){n!=null&&(!e||!M?clearTimeout(n):M(n),l=m,n=null,b===a&&(o=!1))};b.wake=function(){n!==null&&b.sleep();l=g===0?m:!e||!y?function(a){return setTimeout(a,
(k-b.time)*1E3+1|0)}:y;b===a&&(o=!0);h(2)};b.fps=function(a){if(!arguments.length)return g;g=a;i=1/(g||60);k=this.time+i;b.wake()};b.useRAF=function(a){if(!arguments.length)return e;b.sleep();e=a;b.fps(g)};b.fps(d);setTimeout(function(){e&&(!n||b.frame<5)&&b.useRAF(!1)},1500)});e=b.Ticker.prototype=new b.events.EventDispatcher;e.constructor=b.Ticker;var t=d("core.Animation",function(d,c){this.vars=c=c||{};this._duration=this._totalDuration=d||0;this._delay=Number(c.delay)||0;this._timeScale=1;this._active=
c.immediateRender===!0;this.data=c.data;this._reversed=c.reversed===!0;if(O){o||a.wake();var b=this.vars.useFrames?u:O;b.add(this,b._time);this.vars.paused&&this.paused(!0)}});a=t.ticker=new b.Ticker;e=t.prototype;e._dirty=e._gc=e._initted=e._paused=!1;e._totalTime=e._time=0;e._rawPrevTime=-1;e._next=e._last=e._onUpdate=e._timeline=e.timeline=null;e._paused=!1;var X=function(){D()-W>2E3&&a.wake();setTimeout(X,2E3)};X();e.play=function(a,d){arguments.length&&this.seek(a,d);return this.reversed(!1).paused(!1)};
e.pause=function(a,d){arguments.length&&this.seek(a,d);return this.paused(!0)};e.resume=function(a,d){arguments.length&&this.seek(a,d);return this.paused(!1)};e.seek=function(a,d){return this.totalTime(Number(a),d!==!1)};e.restart=function(a,d){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,d!==!1,!0)};e.reverse=function(a,d){arguments.length&&this.seek(a||this.totalDuration(),d);return this.reversed(!0).paused(!1)};e.render=function(){};e.invalidate=function(){return this};e.isActive=
function(){var a=this._timeline,d=this._startTime,c;return!a||!this._gc&&!this._paused&&a.isActive()&&(c=a.rawTime())>=d&&c<d+this.totalDuration()/this._timeScale};e._enabled=function(d,c){o||a.wake();this._gc=!d;this._active=this.isActive();c!==!0&&(d&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!d&&this.timeline&&this._timeline._remove(this,!0));return!1};e._kill=function(){return this._enabled(!1,!1)};e.kill=function(a,d){this._kill(a,d);return this};e._uncache=function(a){for(a=
a?this:this.timeline;a;)a._dirty=!0,a=a.timeline;return this};e._swapSelfInParams=function(a){for(var d=a.length,c=a.concat();--d>-1;)a[d]==="{self}"&&(c[d]=this);return c};e.eventCallback=function(a,d,c,b){if((a||"").substr(0,2)==="on"){var f=this.vars;if(arguments.length===1)return f[a];d==null?delete f[a]:(f[a]=d,f[a+"Params"]=i(c)&&c.join("").indexOf("{self}")!==-1?this._swapSelfInParams(c):c,f[a+"Scope"]=b);if(a==="onUpdate")this._onUpdate=d}return this};e.delay=function(a){if(!arguments.length)return this._delay;
this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay);this._delay=a;return this};e.duration=function(a){if(!arguments.length)return this._dirty=!1,this._duration;this._duration=this._totalDuration=a;this._uncache(!0);this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&a!==0&&this.totalTime(this._totalTime*(a/this._duration),!0);return this};e.totalDuration=function(a){this._dirty=!1;return!arguments.length?this._totalDuration:this.duration(a)};e.time=
function(a,d){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();return this.totalTime(a>this._duration?this._duration:a,d)};e.totalTime=function(d,c,b){o||a.wake();if(!arguments.length)return this._totalTime;if(this._timeline){d<0&&!b&&(d+=this.totalDuration());if(this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var f=this._totalDuration,e=this._timeline;d>f&&!b&&(d=f);this._startTime=(this._paused?this._pauseTime:e._time)-(!this._reversed?d:f-d)/this._timeScale;
e._dirty||this._uncache(!1);if(e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1);(this._totalTime!==d||this._duration===0)&&this.render(d,c,!1)}return this};e.progress=e.totalProgress=function(a,d){return!arguments.length?this._time/this.duration():this.totalTime(this.duration()*a,d)};e.startTime=function(a){if(!arguments.length)return this._startTime;if(a!==this._startTime)this._startTime=
a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay);return this};e.timeScale=function(a){if(!arguments.length)return this._timeScale;a=a||1.0E-10;if(this._timeline&&this._timeline.smoothChildTiming){var d=this._pauseTime,d=d||d===0?d:this._timeline.totalTime();this._startTime=d-(d-this._startTime)*this._timeScale/a}this._timeScale=a;return this._uncache(!1)};e.reversed=function(a){if(!arguments.length)return this._reversed;if(a!=this._reversed)this._reversed=a,this.totalTime(this._totalTime,
!0);return this};e.paused=function(d){if(!arguments.length)return this._paused;if(d!=this._paused&&this._timeline){!o&&!d&&a.wake();var c=this._timeline,b=c.rawTime(),f=b-this._pauseTime;!d&&c.smoothChildTiming&&(this._startTime+=f,this._uncache(!1));this._pauseTime=d?b:null;this._paused=d;this._active=this.isActive();!d&&f!==0&&this._initted&&this.duration()&&this.render(c.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,!0,!0)}this._gc&&!d&&this._enabled(!0,!1);return this};
g=d("core.SimpleTimeline",function(a){t.call(this,0,a);this.autoRemoveChildren=this.smoothChildTiming=!0});e=g.prototype=new t;e.constructor=g;e.kill()._gc=!1;e._first=e._last=null;e._sortChildren=!1;e.add=e.insert=function(a,d){var c,b;a._startTime=Number(d||0)+a._delay;if(a._paused&&this!==a._timeline)a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale;a.timeline&&a.timeline._remove(a,!0);a.timeline=a._timeline=this;a._gc&&a._enabled(!0,!0);c=this._last;if(this._sortChildren)for(b=
a._startTime;c&&c._startTime>b;)c=c._prev;c?(a._next=c._next,c._next=a):(a._next=this._first,this._first=a);a._next?a._next._prev=a:this._last=a;a._prev=c;this._timeline&&this._uncache(!0);return this};e._remove=function(a,d){if(a.timeline===this){d||a._enabled(!1,!0);a.timeline=null;if(a._prev)a._prev._next=a._next;else if(this._first===a)this._first=a._next;if(a._next)a._next._prev=a._prev;else if(this._last===a)this._last=a._prev;this._timeline&&this._uncache(!0)}return this};e.render=function(a,
d,c){var b=this._first,f;for(this._totalTime=this._time=this._rawPrevTime=a;b;){f=b._next;if(b._active||a>=b._startTime&&!b._paused)b._reversed?b.render((!b._dirty?b._totalDuration:b.totalDuration())-(a-b._startTime)*b._timeScale,d,c):b.render((a-b._startTime)*b._timeScale,d,c);b=f}};e.rawTime=function(){o||a.wake();return this._totalTime};var s=d("TweenLite",function(a,d,c){t.call(this,d,c);this.render=s.prototype.render;if(a==null)throw"Cannot tween a null target.";this.target=a=typeof a!=="string"?
a:s.selector(a)||a;var b=a.jquery||a.length&&a!==h&&a[0]&&(a[0]===h||a[0].nodeType&&a[0].style&&!a.nodeType),c=this.vars.overwrite,f;this._overwrite=c=c==null?L[s.defaultOverwrite]:typeof c==="number"?c>>0:L[c];if((b||a instanceof Array||a.push&&i(a))&&typeof a[0]!=="number"){this._targets=f=p.call(a,0);this._propLookup=[];this._siblings=[];for(a=0;a<f.length;a++)(b=f[a])?typeof b==="string"?(b=f[a--]=s.selector(b),typeof b==="string"&&f.splice(a+1,1)):b.length&&b!==h&&b[0]&&(b[0]===h||b[0].nodeType&&
b[0].style&&!b.nodeType)?(f.splice(a--,1),this._targets=f=f.concat(p.call(b,0))):(this._siblings[a]=r(b,this,!1),c===1&&this._siblings[a].length>1&&x(b,this,null,1,this._siblings[a])):f.splice(a--,1)}else this._propLookup={},this._siblings=r(a,this,!1),c===1&&this._siblings.length>1&&x(a,this,null,1,this._siblings);(this.vars.immediateRender||d===0&&this._delay===0&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),P=function(a){return a.length&&a!==h&&a[0]&&(a[0]===h||a[0].nodeType&&
a[0].style&&!a.nodeType)};e=s.prototype=new t;e.constructor=s;e.kill()._gc=!1;e.ratio=0;e._firstPT=e._targets=e._overwrittenProps=e._startAt=null;e._notifyPluginsOfEnabled=!1;s.version="1.11.0";s.defaultEase=e._ease=new F(null,null,1,1);s.defaultOverwrite="auto";s.ticker=a;s.autoSleep=!0;s.selector=h.$||h.jQuery||function(a){return h.$?(s.selector=h.$,h.$(a)):h.document?h.document.getElementById(a.charAt(0)==="#"?a.substr(1):a):a};k=s._internals={isArray:i,isSelector:P};var E=s._plugins={},G=s._tweenLookup=
{},Y=0,K=k.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},L={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,
"true":1,"false":0},u=t._rootFramesTimeline=new g,O=t._rootTimeline=new g;O._startTime=a.time;u._startTime=a.frame;O._active=u._active=!0;t._updateRoot=function(){O.render((a.time-O._startTime)*O._timeScale,!1,!1);u.render((a.frame-u._startTime)*u._timeScale,!1,!1);if(!(a.frame%120)){var d,c,b;for(b in G){c=G[b].tweens;for(d=c.length;--d>-1;)c[d]._gc&&c.splice(d,1);c.length===0&&delete G[b]}b=O._first;if((!b||b._paused)&&s.autoSleep&&!u._first&&a._listeners.tick.length===1){for(;b&&b._paused;)b=b._next;
b||a.sleep()}}};a.addEventListener("tick",t._updateRoot);var r=function(a,d,c){var b=a._gsTweenID,f;if(!G[b||(a._gsTweenID=b="t"+Y++)])G[b]={target:a,tweens:[]};if(d&&(a=G[b].tweens,a[f=a.length]=d,c))for(;--f>-1;)a[f]===d&&a.splice(f,1);return G[b].tweens},x=function(a,d,c,b,f){var e,g,l;if(b===1||b>=4){a=f.length;for(e=0;e<a;e++)if((l=f[e])!==d)l._gc||l._enabled(!1,!1)&&(g=!0);else if(b===5)break;return g}var n=d._startTime+1.0E-10,i=[],k=0,h=d._duration===0,m;for(e=f.length;--e>-1;)if(!((l=f[e])===
d||l._gc||l._paused))l._timeline!==d._timeline?(m=m||z(d,0,h),z(l,m,h)===0&&(i[k++]=l)):l._startTime<=n&&l._startTime+l.totalDuration()/l._timeScale+1.0E-10>n&&((h||!l._initted)&&n-l._startTime<=2.0E-10||(i[k++]=l));for(e=k;--e>-1;)if(l=i[e],b===2&&l._kill(c,a)&&(g=!0),b!==2||!l._firstPT&&l._initted)l._enabled(!1,!1)&&(g=!0);return g},z=function(a,d,c){for(var b=a._timeline,f=b._timeScale,e=a._startTime;b._timeline;){e+=b._startTime;f*=b._timeScale;if(b._paused)return-100;b=b._timeline}e/=f;return e>
d?e-d:c&&e===d||!a._initted&&e-d<2.0E-10?1.0E-10:(e+=a.totalDuration()/a._timeScale/f)>d+1.0E-10?0:e-d-1.0E-10};e._init=function(){var a=this.vars,d=this._overwrittenProps,c=this._duration,b=a.immediateRender,f=a.ease,e,l;if(a.startAt){if(this._startAt&&this._startAt.render(-1,!0),a.startAt.overwrite=0,a.startAt.immediateRender=!0,this._startAt=s.to(this.target,0,a.startAt),b)if(this._time>0)this._startAt=null;else if(c!==0)return}else if(a.runBackwards&&c!==0)if(this._startAt)this._startAt.render(-1,
!0),this._startAt=null;else{c={};for(l in a)if(!K[l]||l==="autoCSS")c[l]=a[l];c.overwrite=0;c.data="isFromStart";this._startAt=s.to(this.target,0,c);if(a.immediateRender){if(this._time===0)return}else this._startAt.render(-1,!0)}this._ease=f?f instanceof F?a.easeParams instanceof Array?f.config.apply(f,a.easeParams):f:typeof f==="function"?new F(f,a.easeParams):Q[f]||s.defaultEase:s.defaultEase;this._easeType=this._ease._type;this._easePower=this._ease._power;this._firstPT=null;if(this._targets)for(f=
this._targets.length;--f>-1;){if(this._initProps(this._targets[f],this._propLookup[f]={},this._siblings[f],d?d[f]:null))e=!0}else e=this._initProps(this.target,this._propLookup,this._siblings,d);e&&s._onPluginEvent("_onInitAllProps",this);d&&(this._firstPT||typeof this.target!=="function"&&this._enabled(!1,!1));if(a.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=a.onUpdate;this._initted=!0};e._initProps=function(a,d,c,b){var f,e,l,g,n;if(a==null)return!1;if(!this.vars.css&&
a.style&&a!==h&&a.nodeType&&E.css&&this.vars.autoCSS!==!1){e=this.vars;var k={},m;for(m in e)if(!K[m]&&(!(m in a)||m==="x"||m==="y"||m==="width"||m==="height"||m==="className"||m==="border")&&(!E[m]||E[m]&&E[m]._autoCSS))k[m]=e[m],delete e[m];e.css=k}for(f in this.vars){e=this.vars[f];if(K[f]){if(e&&(e instanceof Array||e.push&&i(e)))e.join("").indexOf("{self}")!==-1&&(this.vars[f]=this._swapSelfInParams(e,this))}else if(E[f]&&(g=new E[f])._onInitTween(a,this.vars[f],this)){this._firstPT=n={_next:this._firstPT,
t:g,p:"setRatio",s:0,c:1,f:!0,n:f,pg:!0,pr:g._priority};for(e=g._overwriteProps.length;--e>-1;)d[g._overwriteProps[e]]=this._firstPT;if(g._priority||g._onInitAllProps)l=!0;if(g._onDisable||g._onEnable)this._notifyPluginsOfEnabled=!0}else this._firstPT=d[f]=n={_next:this._firstPT,t:a,p:f,f:typeof a[f]==="function",n:f,pg:!1,pr:0},n.s=!n.f?parseFloat(a[f]):a[f.indexOf("set")||typeof a["get"+f.substr(3)]!=="function"?f:"get"+f.substr(3)](),n.c=typeof e==="string"&&e.charAt(1)==="="?parseInt(e.charAt(0)+
"1",10)*Number(e.substr(2)):Number(e)-n.s||0;if(n&&n._next)n._next._prev=n}if(b&&this._kill(b,a))return this._initProps(a,d,c,b);return this._overwrite>1&&this._firstPT&&c.length>1&&x(a,this,d,this._overwrite,c)?(this._kill(d,a),this._initProps(a,d,c,b)):l};e.render=function(a,d,c){var b=this._time,f=this._duration,e,l,g,n;if(a>=f){if(this._totalTime=this._time=f,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(e=!0,l="onComplete"),f===0){n=this._rawPrevTime;if((a===0||n<0||
n===1.0E-10)&&n!==a)c=!0,n>1.0E-10&&(l="onReverseComplete");this._rawPrevTime=n=!d||a?a:1.0E-10}}else if(a<1.0E-7){this._totalTime=this._time=0;this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(b!==0||f===0&&this._rawPrevTime>1.0E-10)l="onReverseComplete",e=this._reversed;if(a<0){if(this._active=!1,f===0)this._rawPrevTime>=0&&(c=!0),this._rawPrevTime=n=!d||a?a:1.0E-10}else this._initted||(c=!0)}else if(this._totalTime=this._time=a,this._easeType){g=a/f;var i=this._easeType,k=this._easePower;
if(i===1||i===3&&g>=0.5)g=1-g;i===3&&(g*=2);k===1?g*=g:k===2?g*=g*g:k===3?g*=g*g*g:k===4&&(g*=g*g*g*g);this.ratio=i===1?1-g:i===2?g:a/f<0.5?g/2:1-g/2}else this.ratio=this._ease.getRatio(a/f);if(this._time!==b||c){if(!this._initted){this._init();if(!this._initted||this._gc)return;if(this._time&&!e)this.ratio=this._ease.getRatio(this._time/f);else if(e&&this._ease._calcEnd)this.ratio=this._ease.getRatio(this._time===0?0:1)}if(!this._active&&!this._paused&&this._time!==b&&a>=0)this._active=!0;if(b===
0&&(this._startAt&&(a>=0?this._startAt.render(a,d,c):l||(l="_dummyGS")),this.vars.onStart&&(this._time!==0||f===0)))d||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||aa);for(g=this._firstPT;g;){if(g.f)g.t[g.p](g.c*this.ratio+g.s);else g.t[g.p]=g.c*this.ratio+g.s;g=g._next}if(this._onUpdate&&(a<0&&this._startAt&&this._startTime&&this._startAt.render(a,d,c),!d&&(!c||!(this._time===0&&b===0))))this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||
aa);if(l&&!this._gc){a<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,d,c);if(e)this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1;!d&&this.vars[l]&&this.vars[l].apply(this.vars[l+"Scope"]||this,this.vars[l+"Params"]||aa);if(f===0&&this._rawPrevTime!==n)this._rawPrevTime=0}}};e._kill=function(a,d){a==="all"&&(a=null);if(a==null&&(d==null||d===this.target))return this._enabled(!1,!1);var d=typeof d!=="string"?d||this._targets||this.target:s.selector(d)||
d,c,b,f,e,g,l,n;if((i(d)||P(d))&&typeof d[0]!=="number")for(c=d.length;--c>-1;)this._kill(a,d[c])&&(g=!0);else{if(this._targets)for(c=this._targets.length;--c>-1;){if(d===this._targets[c]){e=this._propLookup[c]||{};this._overwrittenProps=this._overwrittenProps||[];b=this._overwrittenProps[c]=a?this._overwrittenProps[c]||{}:"all";break}}else if(d!==this.target)return!1;else e=this._propLookup,b=this._overwrittenProps=a?this._overwrittenProps||{}:"all";if(e){l=a||e;n=a!==b&&b!=="all"&&a!==e&&(typeof a!==
"object"||!a._tempKill);for(f in l){if(c=e[f]){c.pg&&c.t._kill(l)&&(g=!0);if(!c.pg||c.t._overwriteProps.length===0){if(c._prev)c._prev._next=c._next;else if(c===this._firstPT)this._firstPT=c._next;if(c._next)c._next._prev=c._prev;c._next=c._prev=null}delete e[f]}n&&(b[f]=1)}!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return g};e.invalidate=function(){this._notifyPluginsOfEnabled&&s._onPluginEvent("_onDisable",this);this._startAt=this._onUpdate=this._overwrittenProps=this._firstPT=null;this._initted=
this._active=this._notifyPluginsOfEnabled=!1;this._propLookup=this._targets?{}:[];return this};e._enabled=function(d,c){o||a.wake();if(d&&this._gc){var b=this._targets,f;if(b)for(f=b.length;--f>-1;)this._siblings[f]=r(b[f],this,!0);else this._siblings=r(this.target,this,!0)}t.prototype._enabled.call(this,d,c);return this._notifyPluginsOfEnabled&&this._firstPT?s._onPluginEvent(d?"_onEnable":"_onDisable",this):!1};s.to=function(a,d,c){return new s(a,d,c)};s.from=function(a,d,c){c.runBackwards=!0;c.immediateRender=
c.immediateRender!=!1;return new s(a,d,c)};s.fromTo=function(a,d,c,b){b.startAt=c;b.immediateRender=b.immediateRender!=!1&&c.immediateRender!=!1;return new s(a,d,b)};s.delayedCall=function(a,d,c,b,f){return new s(d,0,{delay:a,onComplete:d,onCompleteParams:c,onCompleteScope:b,onReverseComplete:d,onReverseCompleteParams:c,onReverseCompleteScope:b,immediateRender:!1,useFrames:f,overwrite:0})};s.set=function(a,d){return new s(a,0,d)};s.getTweensOf=function(a,d){if(a==null)return[];var a=typeof a!=="string"?
a:s.selector(a)||a,c,b,f,e;if((i(a)||P(a))&&typeof a[0]!=="number"){c=a.length;for(b=[];--c>-1;)b=b.concat(s.getTweensOf(a[c],d));for(c=b.length;--c>-1;){e=b[c];for(f=c;--f>-1;)e===b[f]&&b.splice(c,1)}}else{b=r(a).concat();for(c=b.length;--c>-1;)(b[c]._gc||d&&!b[c].isActive())&&b.splice(c,1)}return b};s.killTweensOf=s.killDelayedCallsTo=function(a,d,c){typeof d==="object"&&(c=d,d=!1);for(var d=s.getTweensOf(a,d),b=d.length;--b>-1;)d[b]._kill(c,a)};var C=d("plugins.TweenPlugin",function(a,d){this._overwriteProps=
(a||"").split(",");this._propName=this._overwriteProps[0];this._priority=d||0;this._super=C.prototype},!0);e=C.prototype;C.version="1.10.1";C.API=2;e._firstPT=null;e._addTween=function(a,d,c,b,f,e){var g;if(b!=null&&(g=typeof b==="number"||b.charAt(1)!=="="?Number(b)-c:parseInt(b.charAt(0)+"1",10)*Number(b.substr(2)))){this._firstPT=a={_next:this._firstPT,t:a,p:d,s:c,c:g,f:typeof a[d]==="function",n:f||d,r:e};if(a._next)a._next._prev=a;return a}};e.setRatio=function(a){for(var d=this._firstPT,c;d;){c=
d.c*a+d.s;d.r?c=c+(c>0?0.5:-0.5)|0:c<1.0E-6&&c>-1.0E-6&&(c=0);if(d.f)d.t[d.p](c);else d.t[d.p]=c;d=d._next}};e._kill=function(a){var d=this._overwriteProps,c=this._firstPT,b;if(a[this._propName]!=null)this._overwriteProps=[];else for(b=d.length;--b>-1;)a[d[b]]!=null&&d.splice(b,1);for(;c;){if(a[c.n]!=null){if(c._next)c._next._prev=c._prev;if(c._prev)c._prev._next=c._next,c._prev=null;else if(this._firstPT===c)this._firstPT=c._next}c=c._next}return!1};e._roundProps=function(a,d){for(var c=this._firstPT;c;){if(a[this._propName]||
c.n!=null&&a[c.n.split(this._propName+"_").join("")])c.r=d;c=c._next}};s._onPluginEvent=function(a,d){var c=d._firstPT,b,f,e,g,l;if(a==="_onInitAllProps"){for(;c;){l=c._next;for(f=e;f&&f.pr>c.pr;)f=f._next;(c._prev=f?f._prev:g)?c._prev._next=c:e=c;(c._next=f)?f._prev=c:g=c;c=l}c=d._firstPT=e}for(;c;)c.pg&&typeof c.t[a]==="function"&&c.t[a]()&&(b=!0),c=c._next;return b};C.activate=function(a){for(var d=a.length;--d>-1;)a[d].API===C.API&&(E[(new a[d])._propName]=a[d]);return!0};f.plugin=function(a){if(!a||
!a.propName||!a.init||!a.API)throw"illegal plugin definition.";var c=a.propName,b=a.priority||0,f=a.overwriteProps,e={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},g=d("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){C.call(this,c,b);this._overwriteProps=f||[]},a.global===!0),l=g.prototype=new C(c),n;l.constructor=g;g.API=a.API;for(n in e)typeof a[n]==="function"&&(l[e[n]]=a[n]);g.version=a.version;C.activate([g]);return g};if(g=
h._gsQueue){for(k=0;k<g.length;k++)g[k]();for(e in c)c[e].func||h.console.log("GSAP encountered missing dependency: com.greensock."+e)}o=!1}})(window);return TweenLite});
define("lib/tween/easing/EasePack",["require","lib/tween/TweenLite"],function(h){h("lib/tween/TweenLite");(window._gsQueue||(window._gsQueue=[])).push(function(){window._gsDefine("easing.Back",["easing.Ease"],function(h){var j=window.GreenSockGlobals||window,b=Math.PI*2,p=Math.PI/2,m=j.com.greensock._class,i=function(a,c){var b=m("easing."+a,function(){},!0),f=b.prototype=new h;f.constructor=b;f.getRatio=c;return b},g=h.register||function(){},k=function(a,c,b,f){c=m("easing."+a,{easeOut:new c,easeIn:new b,
easeInOut:new f},!0);g(c,a);return c},e=function(a,c,b){this.t=a;this.v=c;if(b)this.next=b,b.prev=this,this.c=b.v-c,this.gap=b.t-a},a=function(a,c){var b=m("easing."+a,function(a){this._p1=a||a===0?a:1.70158;this._p2=this._p1*1.525},!0),f=b.prototype=new h;f.constructor=b;f.getRatio=c;f.config=function(a){return new b(a)};return b},a=k("Back",a("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),a("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),a("BackInOut",function(a){return(a*=
2)<1?0.5*a*a*((this._p2+1)*a-this._p2):0.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),o=m("easing.SlowMo",function(a,c,b){a==null?a=0.7:a>1&&(a=1);this._p=a!==1?c||c===0?c:0.7:0;this._p1=(1-a)/2;this._p2=a;this._p3=this._p1+this._p2;this._calcEnd=b===!0},!0),c=o.prototype=new h,n,f;c.constructor=o;c.getRatio=function(a){var c=a+(0.5-a)*this._p;if(a<this._p1)return this._calcEnd?1-(a=1-a/this._p1)*a:c-(a=1-a/this._p1)*a*a*a*c;else if(a>this._p3)return this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:c+(a-
c)*(a=(a-this._p3)/this._p1)*a*a*a;return this._calcEnd?1:c};o.ease=new o(0.7,0.7);c.config=o.config=function(a,c,b){return new o(a,c,b)};n=m("easing.SteppedEase",function(a){a=a||1;this._p1=1/a;this._p2=a+1},!0);c=n.prototype=new h;c.constructor=n;c.getRatio=function(a){a<0?a=0:a>=1&&(a=0.999999999);return(this._p2*a>>0)*this._p1};c.config=n.config=function(a){return new n(a)};f=m("easing.RoughEase",function(a){for(var a=a||{},c=a.taper||"none",b=[],f=0,g=(a.points||20)|0,n=g,i=a.randomize!==!1,
k=a.clamp===!0,m=a.template instanceof h?a.template:null,a=typeof a.strength==="number"?a.strength*0.4:0.4,j,o,p;--n>-1;)j=i?Math.random():1/g*n,o=m?m.getRatio(j):j,c==="none"?p=a:c==="out"?(p=1-j,p=p*p*a):c==="in"?p=j*j*a:(p=j<0.5?j*2:(1-j)*2,p=p*p*0.5*a),i?o+=Math.random()*p-p*0.5:n%2?o+=p*0.5:o-=p*0.5,k&&(o>1?o=1:o<0&&(o=0)),b[f++]={x:j,y:o};b.sort(function(a,c){return a.x-c.x});c=new e(1,1,null);for(n=g;--n>-1;)g=b[n],c=new e(g.x,g.y,c);this._prev=new e(0,0,c.t!==0?c:c.next)},!0);c=f.prototype=
new h;c.constructor=f;c.getRatio=function(a){var c=this._prev;if(a>c.t){for(;c.next&&a>=c.t;)c=c.next;c=c.prev}else for(;c.prev&&a<=c.t;)c=c.prev;this._prev=c;return c.v+(a-c.t)/c.gap*c.c};c.config=function(a){return new f(a)};f.ease=new f;k("Bounce",i("BounceOut",function(a){if(a<1/2.75)return 7.5625*a*a;else if(a<2/2.75)return 7.5625*(a-=1.5/2.75)*a+0.75;else if(a<2.5/2.75)return 7.5625*(a-=2.25/2.75)*a+0.9375;return 7.5625*(a-=2.625/2.75)*a+0.984375}),i("BounceIn",function(a){if((a=1-a)<1/2.75)return 1-
7.5625*a*a;else if(a<2/2.75)return 1-(7.5625*(a-=1.5/2.75)*a+0.75);else if(a<2.5/2.75)return 1-(7.5625*(a-=2.25/2.75)*a+0.9375);return 1-(7.5625*(a-=2.625/2.75)*a+0.984375)}),i("BounceInOut",function(a){var c=a<0.5,a=c?1-a*2:a*2-1;a<1/2.75?a*=7.5625*a:a=a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375;return c?(1-a)*0.5:a*0.5+0.5}));k("Circ",i("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),i("CircIn",function(a){return-(Math.sqrt(1-
a*a)-1)}),i("CircInOut",function(a){return(a*=2)<1?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)}));c=function(a,c,f){var e=m("easing."+a,function(a,c){this._p1=a||1;this._p2=c||f;this._p3=this._p2/b*(Math.asin(1/this._p1)||0)},!0),a=e.prototype=new h;a.constructor=e;a.getRatio=c;a.config=function(a,c){return new e(a,c)};return e};k("Elastic",c("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*b/this._p2)+1},0.3),c("ElasticIn",function(a){return-(this._p1*
Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*b/this._p2))},0.3),c("ElasticInOut",function(a){return(a*=2)<1?-0.5*this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*b/this._p2):this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*b/this._p2)*0.5+1},0.45));k("Expo",i("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),i("ExpoIn",function(a){return Math.pow(2,10*(a-1))-0.0010}),i("ExpoInOut",function(a){return(a*=2)<1?0.5*Math.pow(2,10*(a-1)):0.5*(2-Math.pow(2,-10*(a-1)))}));k("Sine",i("SineOut",function(a){return Math.sin(a*
p)}),i("SineIn",function(a){return-Math.cos(a*p)+1}),i("SineInOut",function(a){return-0.5*(Math.cos(Math.PI*a)-1)}));m("easing.EaseLookup",{find:function(a){return h.map[a]}},!0);g(j.SlowMo,"SlowMo","ease,");g(f,"RoughEase","ease,");g(n,"SteppedEase","ease,");return a},!0)});window._gsDefine&&window._gsQueue.pop()();return window.com.greensock.easing});
define("lib/tween/TimelineLite",["require","lib/tween/TweenLite"],function(h){h("lib/tween/TweenLite");(window._gsQueue||(window._gsQueue=[])).push(function(){window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(h,j,b){var p=function(a){j.call(this,a);this._labels={};this.autoRemoveChildren=this.vars.autoRemoveChildren===!0;this.smoothChildTiming=this.vars.smoothChildTiming===!0;this._sortChildren=!0;this._onUpdate=this.vars.onUpdate;var a=this.vars,b,f;for(f in a)b=
a[f],i(b)&&b.join("").indexOf("{self}")!==-1&&(a[f]=this._swapSelfInParams(b));i(a.tweens)&&this.add(a.tweens,0,a.align,a.stagger)},m=b._internals.isSelector,i=b._internals.isArray,g=[],k=function(a){var b={},f;for(f in a)b[f]=a[f];return b},e=function(a,b,f,d){a._timeline.pause(a._startTime);b&&b.apply(d||a._timeline,f||g)},a=g.slice,o=p.prototype=new j;p.version="1.11.0";o.constructor=p;o.kill()._gc=!1;o.to=function(a,e,f,d){return e?this.add(new b(a,e,f),d):this.set(a,f,d)};o.from=function(a,e,
f,d){return this.add(b.from(a,e,f),d)};o.fromTo=function(a,e,f,d,g){return e?this.add(b.fromTo(a,e,f,d),g):this.set(a,d,g)};o.staggerTo=function(c,e,f,d,g,i,h,j){i=new p({onComplete:i,onCompleteParams:h,onCompleteScope:j});typeof c==="string"&&(c=b.selector(c)||c);m(c)&&(c=a.call(c,0));d=d||0;for(h=0;h<c.length;h++){if(f.startAt)f.startAt=k(f.startAt);i.to(c[h],e,k(f),h*d)}return this.add(i,g)};o.staggerFrom=function(a,b,f,d,e,g,i,h){f.immediateRender=f.immediateRender!=!1;f.runBackwards=!0;return this.staggerTo(a,
b,f,d,e,g,i,h)};o.staggerFromTo=function(a,b,f,d,e,g,i,h,k){d.startAt=f;d.immediateRender=d.immediateRender!=!1&&f.immediateRender!=!1;return this.staggerTo(a,b,d,e,g,i,h,k)};o.call=function(a,e,f,d){return this.add(b.delayedCall(0,a,e,f),d)};o.set=function(a,e,f){f=this._parseTimeOrLabel(f,0,!0);if(e.immediateRender==null)e.immediateRender=f===this._time&&!this._paused;return this.add(new b(a,0,e),f)};p.exportRoot=function(a,e){a=a||{};if(a.smoothChildTiming==null)a.smoothChildTiming=!0;var f=new p(a),
d=f._timeline,g,i;e==null&&(e=!0);d._remove(f,!0);f._startTime=0;f._rawPrevTime=f._time=f._totalTime=d._time;for(g=d._first;g;)i=g._next,(!e||!(g instanceof b&&g.target===g.vars.onComplete))&&f.add(g,g._startTime-g._delay),g=i;d.add(f,0);return f};o.add=function(a,e,f,d){var g,k,m;typeof e!=="number"&&(e=this._parseTimeOrLabel(e,0,!0,a));if(!(a instanceof h))if(a instanceof Array||a&&a.push&&i(a)){f=f||"normal";d=d||0;g=a.length;for(k=0;k<g;k++){if(i(m=a[k]))m=new p({tweens:m});this.add(m,e);typeof m!==
"string"&&typeof m!=="function"&&(f==="sequence"?e=m._startTime+m.totalDuration()/m._timeScale:f==="start"&&(m._startTime-=m.delay()));e+=d}return this._uncache(!0)}else if(typeof a==="string")return this.addLabel(a,e);else if(typeof a==="function")a=b.delayedCall(0,a);else throw"Cannot add "+a+" into the timeline; it is not a tween, timeline, function, or string.";j.prototype.add.call(this,a,e);if(this._gc&&!this._paused&&this._duration<this.duration()){f=this;for(a=f.rawTime()>a._startTime;f._gc&&
f._timeline;)f._timeline.smoothChildTiming&&a?f.totalTime(f._totalTime,!0):f._enabled(!0,!1),f=f._timeline}return this};o.remove=function(a){if(a instanceof h)return this._remove(a,!1);else if(a instanceof Array||a&&a.push&&i(a)){for(var b=a.length;--b>-1;)this.remove(a[b]);return this}else if(typeof a==="string")return this.removeLabel(a);return this.kill(null,a)};o._remove=function(a,b){j.prototype._remove.call(this,a,b);var f=this._last;if(f){if(this._time>f._startTime+f._totalDuration/f._timeScale)this._time=
this.duration(),this._totalTime=this._totalDuration}else this._time=this._totalTime=0;return this};o.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))};o.insert=o.insertMultiple=function(a,b,f,d){return this.add(a,b||0,f,d)};o.appendMultiple=function(a,b,f,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),f,d)};o.addLabel=function(a,b){this._labels[a]=this._parseTimeOrLabel(b);return this};o.addPause=function(a,b,f,d){return this.call(e,["{self}",b,f,d],this,a)};o.removeLabel=
function(a){delete this._labels[a];return this};o.getLabelTime=function(a){return this._labels[a]!=null?this._labels[a]:-1};o._parseTimeOrLabel=function(a,b,f,d){var e;if(d instanceof h&&d.timeline===this)this.remove(d);else if(d&&(d instanceof Array||d.push&&i(d)))for(e=d.length;--e>-1;)d[e]instanceof h&&d[e].timeline===this&&this.remove(d[e]);if(typeof b==="string")return this._parseTimeOrLabel(b,f&&typeof a==="number"&&this._labels[b]==null?a-this.duration():0,f);b=b||0;if(typeof a==="string"&&
(isNaN(a)||this._labels[a]!=null)){e=a.indexOf("=");if(e===-1)return this._labels[a]==null?f?this._labels[a]=this.duration()+b:b:this._labels[a]+b;b=parseInt(a.charAt(e-1)+"1",10)*Number(a.substr(e+1));a=e>1?this._parseTimeOrLabel(a.substr(0,e-1),0,f):this.duration()}else a==null&&(a=this.duration());return Number(a)+b};o.seek=function(a,b){return this.totalTime(typeof a==="number"?a:this._parseTimeOrLabel(a),b!==!1)};o.stop=function(){return this.paused(!0)};o.gotoAndPlay=function(a,b){return this.play(a,
b)};o.gotoAndStop=function(a,b){return this.pause(a,b)};o.render=function(a,b,e){this._gc&&this._enabled(!0,!1);var d=!this._dirty?this._totalDuration:this.totalDuration(),i=this._time,h=this._startTime,k=this._timeScale,m=this._paused,j,o,q,p;if(a>=d){this._totalTime=this._time=d;if(!this._reversed&&!this._hasPausedChild()&&(o=!0,p="onComplete",this._duration===0&&(a===0||this._rawPrevTime<0||this._rawPrevTime===1.0E-10)&&this._rawPrevTime!==a&&this._first))j=!0,this._rawPrevTime>1.0E-10&&(p="onReverseComplete");
this._rawPrevTime=this._duration||!b||a?a:1.0E-10;a=d+1.0E-6}else if(a<1.0E-7){this._totalTime=this._time=0;if(i!==0||this._duration===0&&(this._rawPrevTime>1.0E-10||a<0&&this._rawPrevTime>=0))p="onReverseComplete",o=this._reversed;a<0?(this._active=!1,this._duration===0&&this._rawPrevTime>=0&&this._first&&(j=!0),this._rawPrevTime=a):(this._rawPrevTime=this._duration||!b||a?a:1.0E-10,a=0,this._initted||(j=!0))}else this._totalTime=this._time=this._rawPrevTime=a;if(this._time!==i&&this._first||e||
j){if(!this._initted)this._initted=!0;if(!this._active&&!this._paused&&this._time!==i&&a>0)this._active=!0;i===0&&this.vars.onStart&&this._time!==0&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||g));if(this._time>=i)for(j=this._first;j;){q=j._next;if(this._paused&&!m)break;else if(j._active||j._startTime<=this._time&&!j._paused&&!j._gc)j._reversed?j.render((!j._dirty?j._totalDuration:j.totalDuration())-(a-j._startTime)*j._timeScale,b,e):j.render((a-j._startTime)*
j._timeScale,b,e);j=q}else for(j=this._last;j;){q=j._prev;if(this._paused&&!m)break;else if(j._active||j._startTime<=i&&!j._paused&&!j._gc)j._reversed?j.render((!j._dirty?j._totalDuration:j.totalDuration())-(a-j._startTime)*j._timeScale,b,e):j.render((a-j._startTime)*j._timeScale,b,e);j=q}this._onUpdate&&(b||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||g));if(p&&!this._gc&&(h===this._startTime||k!==this._timeScale))if(this._time===0||d>=this.totalDuration()){if(o)this._timeline.autoRemoveChildren&&
this._enabled(!1,!1),this._active=!1;!b&&this.vars[p]&&this.vars[p].apply(this.vars[p+"Scope"]||this,this.vars[p+"Params"]||g)}}};o._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof p&&a._hasPausedChild())return!0;a=a._next}return!1};o.getChildren=function(a,e,f,d){for(var d=d||-9999999999,g=[],i=this._first,h=0;i;){if(!(i._startTime<d))if(i instanceof b)e!==!1&&(g[h++]=i);else if(f!==!1&&(g[h++]=i),a!==!1)g=g.concat(i.getChildren(!0,e,f)),h=g.length;i=i._next}return g};
o.getTweensOf=function(a,e){for(var f=b.getTweensOf(a),d=f.length,g=[],i=0;--d>-1;)if(f[d].timeline===this||e&&this._contains(f[d]))g[i++]=f[d];return g};o._contains=function(a){for(a=a.timeline;a;){if(a===this)return!0;a=a.timeline}return!1};o.shiftChildren=function(a,b,e){for(var e=e||0,d=this._first,g=this._labels,i;d;)d._startTime>=e&&(d._startTime+=a),d=d._next;if(b)for(i in g)g[i]>=e&&(g[i]+=a);return this._uncache(!0)};o._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var e=!b?
this.getChildren(!0,!0,!1):this.getTweensOf(b),d=e.length,g=!1;--d>-1;)e[d]._kill(a,b)&&(g=!0);return g};o.clear=function(a){var b=this.getChildren(!1,!0,!0),e=b.length;for(this._time=this._totalTime=0;--e>-1;)b[e]._enabled(!1,!1);if(a!==!1)this._labels={};return this._uncache(!0)};o.invalidate=function(){for(var a=this._first;a;)a.invalidate(),a=a._next;return this};o._enabled=function(a,b){if(a===this._gc)for(var e=this._first;e;)e._enabled(a,!0),e=e._next;return j.prototype._enabled.call(this,
a,b)};o.duration=function(a){if(!arguments.length)return this._dirty&&this.totalDuration(),this._duration;this.duration()!==0&&a!==0&&this.timeScale(this._duration/a);return this};o.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b=0,e=this._last,d=999999999999,g;e;)g=e._prev,e._dirty&&e.totalDuration(),e._startTime>d&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):d=e._startTime,e._startTime<0&&!e._paused&&(b-=e._startTime,this._timeline.smoothChildTiming&&
(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),d=0),e=e._startTime+e._totalDuration/e._timeScale,e>b&&(b=e),e=g;this._duration=this._totalDuration=b;this._dirty=!1}return this._totalDuration}this.totalDuration()!==0&&a!==0&&this.timeScale(this._totalDuration/a);return this};o.usesFrames=function(){for(var a=this._timeline;a._timeline;)a=a._timeline;return a===h._rootFramesTimeline};o.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-
this._startTime)*this._timeScale};return p},!0)});window._gsDefine&&window._gsQueue.pop()();return window.TimelineLite});
define("lib/tween/plugins/CSSPlugin",["require","lib/tween/TweenLite"],function(h){h("lib/tween/TweenLite");(window._gsQueue||(window._gsQueue=[])).push(function(){window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(h,j){var b=function(){h.call(this,"css");this._overwriteProps.length=0},p,m,i,g,k={},e=b.prototype=new h("css");e.constructor=b;b.version="1.9.6";b.API=2;b.defaultTransformPerspective=0;e="px";b.suffixMap={top:e,right:e,bottom:e,left:e,width:e,height:e,fontSize:e,
padding:e,margin:e,perspective:e};var a=/(?:\d|\-\d|\.\d|\-\.\d)+/g,o=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,c=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,n=/[^\d\-\.]/g,f=/(?:\d|\-|\+|=|#|\.)*/g,d=/opacity *= *([^)]*)/,l=/opacity:([^;]*)/,aa=/alpha\(opacity *=.+?\)/i,F=/^(rgb|hsl)/,Q=/([A-Z])/g,T=/-([a-z])/gi,U=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,y=function(a,b){return b.toUpperCase()},M=/(?:Left|Right|Width)/i,D=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,W=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
t=/,(?=[^\)]*(?:\(|$))/gi,X=Math.PI/180,s=180/Math.PI,P={},E=document,G=E.createElement("div"),Y=E.createElement("img"),K=b._internals={_specialProps:k},L=navigator.userAgent,u,O,r,x,z,C,A=function(){var a=L.indexOf("Android"),b=E.createElement("div");z=(r=L.indexOf("Safari")!==-1&&L.indexOf("Chrome")===-1&&(a===-1||Number(L.substr(a+8,1))>3))&&Number(L.substr(L.indexOf("Version/")+8,1))<6;x=L.indexOf("Firefox")!==-1;/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(L);C=parseFloat(RegExp.$1);b.innerHTML="<a style='top:1px;opacity:.55;'>a</a>";
return(a=b.getElementsByTagName("a")[0])?/^0.55/.test(a.style.opacity):!1}(),J=function(a){return d.test(typeof a==="string"?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},V="",la="",ea=function(a,b){var b=b||G,c=b.style,d,e;if(c[a]!==void 0)return a;a=a.charAt(0).toUpperCase()+a.substr(1);d=["O","Moz","ms","Ms","Webkit"];for(e=5;--e>-1&&c[d[e]+a]===void 0;);return e>=0?(la=e===3?"ms":d[e],V="-"+la.toLowerCase()+"-",la+a):null},fa=E.defaultView?E.defaultView.getComputedStyle:
function(){},B=b.getStyle=function(a,b,c,d,e){var f;if(!A&&b==="opacity")return J(a);if(!d&&a.style[b])f=a.style[b];else if(c=c||fa(a,null))f=(a=c.getPropertyValue(b.replace(Q,"-$1").toLowerCase()))||c.length?a:c[b];else if(a.currentStyle)c=a.currentStyle,f=c[b];return e!=null&&(!f||f==="none"||f==="auto"||f==="auto auto")?e:f},H=function(a,b,c,d,e){if(d==="px"||!d)return c;if(d==="auto"||!c)return 0;var f=M.test(b),g=a,i=G.style,h=c<0;h&&(c=-c);d==="%"&&b.indexOf("border")!==-1?f=c/100*(f?a.clientWidth:
a.clientHeight):(i.cssText="border-style:solid; border-width:0; position:absolute; line-height:0;",d==="%"||!g.appendChild?(g=a.parentNode||E.body,i[f?"width":"height"]=c+d):i[f?"borderLeftWidth":"borderTopWidth"]=c+d,g.appendChild(G),f=parseFloat(G[f?"offsetWidth":"offsetHeight"]),g.removeChild(G),f===0&&!e&&(f=H(a,b,c,d,!0)));return h?-f:f},ra=function(a,b,c){if(B(a,"position",c)!=="absolute")return 0;var d=b==="left"?"Left":"Top",c=B(a,"margin"+d,c);return a["offset"+d]-(H(a,b,parseFloat(c),c.replace(f,
""))||0)},ga=function(a,b){var c={},d;if(b=b||fa(a,null))if(d=b.length)for(;--d>-1;)c[b[d].replace(T,y)]=b.getPropertyValue(b[d]);else for(d in b)c[d]=b[d];else if(b=a.currentStyle||a.style)for(d in b)c[d.replace(T,y)]=b[d];if(!A)c.opacity=J(a);d=ia(a,b,!1);c.rotation=d.rotation*s;c.skewX=d.skewX*s;c.scaleX=d.scaleX;c.scaleY=d.scaleY;c.x=d.x;c.y=d.y;if(Z)c.z=d.z,c.rotationX=d.rotationX*s,c.rotationY=d.rotationY*s,c.scaleZ=d.scaleZ;c.filters&&delete c.filters;return c},na=function(a,b,c,d,e){var f=
{},g=a.style,i,h,v;for(h in c)if(h!=="cssText"&&h!=="length"&&isNaN(h)&&(b[h]!==(i=c[h])||e&&e[h]))if(h.indexOf("Origin")===-1&&(typeof i==="number"||typeof i==="string"))f[h]=i==="auto"&&(h==="left"||h==="top")?ra(a,h):(i===""||i==="auto"||i==="none")&&typeof b[h]==="string"&&b[h].replace(n,"")!==""?0:i,g[h]!==void 0&&(v=new oa(g,h,g[h],v));if(d)for(h in d)h!=="className"&&(f[h]=d[h]);return{difs:f,firstMPT:v}},za={width:["Left","Right"],height:["Top","Bottom"]},Aa=["marginLeft","marginRight","marginTop",
"marginBottom"],ma=function(a,b){if(a==null||a===""||a==="auto"||a==="auto auto")a="0 0";var c=a.split(" "),d=a.indexOf("left")!==-1?"0%":a.indexOf("right")!==-1?"100%":c[0],e=a.indexOf("top")!==-1?"0%":a.indexOf("bottom")!==-1?"100%":c[1];e==null?e="0":e==="center"&&(e="50%");if(d==="center"||isNaN(parseFloat(d)))d="50%";if(b)b.oxp=d.indexOf("%")!==-1,b.oyp=e.indexOf("%")!==-1,b.oxr=d.charAt(1)==="=",b.oyr=e.charAt(1)==="=",b.ox=parseFloat(d.replace(n,"")),b.oy=parseFloat(e.replace(n,""));return d+
" "+e+(c.length>2?" "+c[2]:"")},sa=function(a,b){return typeof a==="string"&&a.charAt(1)==="="?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)},ba=function(a,b){return a==null?b:typeof a==="string"&&a.charAt(1)==="="?parseInt(a.charAt(0)+"1",10)*Number(a.substr(2))+b:parseFloat(a)},ha=function(a,b,c,d){var e,f,g;a==null?a=b:typeof a==="number"?a*=X:(e=Math.PI*2,f=a.split("_"),g=Number(f[0].replace(n,""))*(a.indexOf("rad")===-1?X:1)-(a.charAt(1)==="="?0:b),f.length&&
(d&&(d[c]=b+g),a.indexOf("short")!==-1&&(g%=e,g!==g%(e/2)&&(g=g<0?g+e:g-e)),a.indexOf("_cw")!==-1&&g<0?g=(g+e*9999999999)%e-(g/e|0)*e:a.indexOf("ccw")!==-1&&g>0&&(g=(g-e*9999999999)%e-(g/e|0)*e)),a=b+g);a<1.0E-6&&a>-1.0E-6&&(a=0);return a},ca={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,
0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pa=function(a,b,c){a=a<0?a+1:a>1?a-1:a;return(a*6<1?b+(c-b)*a*6:a<0.5?c:a*3<2?b+(c-b)*(2/3-a)*6:b)*255+0.5|0},qa=function(b){var c,d,e;if(!b||b==="")return ca.black;if(typeof b==="number")return[b>>16,b>>8&255,b&255];b.charAt(b.length-1)===","&&(b=b.substr(0,b.length-1));if(ca[b])return ca[b];if(b.charAt(0)==="#")return b.length===4&&(c=b.charAt(1),d=b.charAt(2),b=b.charAt(3),b="#"+c+c+d+d+b+b),b=
parseInt(b.substr(1),16),[b>>16,b>>8&255,b&255];if(b.substr(0,3)==="hsl")return b=b.match(a),e=Number(b[0])%360/360,d=Number(b[1])/100,c=Number(b[2])/100,d=c<=0.5?c*(d+1):c+d-c*d,c=c*2-d,b.length>3&&(b[3]=Number(b[3])),b[0]=pa(e+1/3,c,d),b[1]=pa(e,c,d),b[2]=pa(e-1/3,c,d),b;b=b.match(a)||ca.transparent;b[0]=Number(b[0]);b[1]=Number(b[1]);b[2]=Number(b[2]);b.length>3&&(b[3]=Number(b[3]));return b},da="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(e in ca)da+="|"+e+"\\b";var da=RegExp(da+
")","gi"),ta=function(b,d,e,f){if(b==null)return function(a){return a};var g=d?(b.match(da)||[""])[0]:"",i=b.split(g).join("").match(c)||[],h=b.substr(0,b.indexOf(i[0])),m=b.charAt(b.length-1)===")"?")":"",k=b.indexOf(" ")!==-1?" ":",",v=i.length,j=v>0?i[0].replace(a,""):"",l;if(!v)return function(a){return a};return d?l=function(a){var b,d,R;if(typeof a==="number")a+=j;else if(f&&t.test(a)){a=a.replace(t,"|").split("|");for(R=0;R<a.length;R++)a[R]=l(a[R]);return a.join(",")}b=(a.match(da)||[g])[0];
d=a.split(b).join("").match(c)||[];R=d.length;if(v>R--)for(;++R<v;)d[R]=e?d[(R-1)/2|0]:i[R];return h+d.join(k)+k+b+m+(a.indexOf("inset")!==-1?" inset":"")}:l=function(a){var b;if(typeof a==="number")a+=j;else if(f&&t.test(a)){b=a.replace(t,"|").split("|");for(a=0;a<b.length;a++)b[a]=l(b[a]);return b.join(",")}b=a.match(c)||[];a=b.length;if(v>a--)for(;++a<v;)b[a]=e?b[(a-1)/2|0]:i[a];return h+b.join(k)+m}},ua=function(a){a=a.split(",");return function(b,c,d,e,f,g,i){c=(c+"").split(" ");i={};for(d=0;d<
4;d++)i[a[d]]=c[d]=c[d]||c[(d-1)/2>>0];return e.parse(b,i,f,g)}};K._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b=this.data,c=b.proxy,d=b.firstMPT,e;d;)e=c[d.v],d.r?e=e>0?e+0.5|0:e-0.5|0:e<1.0E-6&&e>-1.0E-6&&(e=0),d.t[d.p]=e,d=d._next;if(b.autoRotate)b.autoRotate.rotation=c.rotation;if(a===1)for(d=b.firstMPT;d;){a=d.t;if(a.type){if(a.type===1){c=a.xs0+a.s+a.xs1;for(b=1;b<a.l;b++)c+=a["xn"+b]+a["xs"+(b+1)];a.e=c}}else a.e=a.s+a.xs0;d=d._next}};var oa=function(a,b,c,d,e){this.t=a;this.p=
b;this.v=c;this.r=e;if(d)d._prev=this,this._next=d};K._parseToProxy=function(a,b,c,d,e,f){var g=d,i={},h={},v=c._transform,k=P,m;c._transform=null;P=b;d=a=c.parse(a,b,d,e);P=k;if(f&&(c._transform=v,g&&(g._prev=null,g._prev)))g._prev._next=null;for(;d&&d!==g;){if(d.type<=1){v=d.p;h[v]=d.s+d.c;i[v]=d.s;if(!f)m=new oa(d,"s",v,m,d.r),d.c=0;if(d.type===1)for(c=d.l;--c>0;)k="xn"+c,v=d.p+"_"+k,h[v]=d.data[k],i[v]=d[k],f||(m=new oa(d,k,v,m,d.rxp[k]))}d=d._next}return{proxy:i,end:h,firstMPT:m,pt:a}};var I=
K.CSSPropTween=function(a,b,d,c,e,f,i,h,k,v,m){this.t=a;this.p=b;this.s=d;this.c=c;this.n=i||"css_"+b;a instanceof I||g.push(this.n);this.r=h;this.type=f||0;if(k)this.pr=k,p=!0;this.b=v===void 0?d:v;this.e=m===void 0?d+c:m;if(e)this._next=e,e._prev=this},ja=b.parseComplex=function(b,d,c,e,f,g,i,h,k,v){i=new I(b,d,0,0,i,v?2:1,null,!1,h,c,e);e+="";var b=c.split(", ").join(",").split(" "),d=e.split(", ").join(",").split(" "),h=b.length,m=u!==!1,j,l,n,r;if(e.indexOf(",")!==-1||c.indexOf(",")!==-1)b=b.join(" ").replace(t,
", ").split(" "),d=d.join(" ").replace(t,", ").split(" "),h=b.length;if(h!==d.length)b=(g||"").split(" "),h=b.length;i.plugin=k;i.setRatio=v;for(c=0;c<h;c++)if(g=b[c],v=d[c],(k=parseFloat(g))||k===0)i.appendXtra("",k,sa(v,k),v.replace(o,""),m&&v.indexOf("px")!==-1,!0);else if(f&&(g.charAt(0)==="#"||ca[g]||F.test(g)))j=v.charAt(v.length-1)===","?"),":")",g=qa(g),v=qa(v),(k=g.length+v.length>6)&&!A&&v[3]===0?(i["xs"+i.l]+=i.l?" transparent":"transparent",i.e=i.e.split(d[c]).join("transparent")):(A||
(k=!1),i.appendXtra(k?"rgba(":"rgb(",g[0],v[0]-g[0],",",!0,!0).appendXtra("",g[1],v[1]-g[1],",",!0).appendXtra("",g[2],v[2]-g[2],k?",":j,!0),k&&(g=g.length<4?1:g[3],i.appendXtra("",g,(v.length<4?1:v[3])-g,j,!1)));else if(k=g.match(a)){l=v.match(o);if(!l||l.length!==k.length)return i;for(v=j=0;v<k.length;v++)r=k[v],n=g.indexOf(r,j),i.appendXtra(g.substr(j,n-j),Number(r),sa(l[v],r),"",m&&g.substr(n+r.length,2)==="px",v===0),j=n+r.length;i["xs"+i.l]+=g.substr(j)}else i["xs"+i.l]+=i.l?" "+g:g;if(e.indexOf("=")!==
-1&&i.data){j=i.xs0+i.data.s;for(c=1;c<i.l;c++)j+=i["xs"+c]+i.data["xn"+c];i.e=j+i["xs"+c]}if(!i.l)i.type=-1,i.xs0=i.e;return i.xfirst||i},N=9,e=I.prototype;for(e.l=e.pr=0;--N>0;)e["xn"+N]=0,e["xs"+N]="";e.xs0="";e._next=e._prev=e.xfirst=e.data=e.plugin=e.setRatio=e.rxp=null;e.appendXtra=function(a,b,c,d,e,g){var f=this.l;this["xs"+f]+=g&&f?" "+a:a||"";if(!c&&f!==0&&!this.plugin)return this["xs"+f]+=b+(d||""),this;this.l++;this.type=this.setRatio?2:1;this["xs"+this.l]=d||"";if(f>0){this.data["xn"+
f]=b+c;this.rxp["xn"+f]=e;this["xn"+f]=b;if(!this.plugin)this.xfirst=new I(this,"xn"+f,b,c,this.xfirst||this,0,this.n,e,this.pr),this.xfirst.xs0=0;return this}this.data={s:b+c};this.rxp={};this.s=b;this.c=c;this.r=e;return this};var va=function(a,b){b=b||{};this.p=b.prefix?ea(a)||a:a;k[a]=k[this.p]=this;this.format=b.formatter||ta(b.defaultValue,b.color,b.collapsible,b.multi);if(b.parser)this.parse=b.parser;this.clrs=b.color;this.multi=b.multi;this.keyword=b.keyword;this.dflt=b.defaultValue;this.pr=
b.priority||0},w=K._registerComplexSpecialProp=function(a,b,c){typeof b!=="object"&&(b={parser:c});var a=a.split(","),d=b.defaultValue,e,c=c||[d];for(e=0;e<a.length;e++)b.prefix=e===0&&b.prefix,b.defaultValue=c[e]||d,new va(a[e],b)},K=function(a){if(!k[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";w(a,{parser:function(a,c,d,e,g,f,i){var h=(window.GreenSockGlobals||window).com.greensock.plugins[b];if(!h)return window.console&&console.log("Error: "+b+" js file not loaded."),g;h._cssRegister();
return k[d].parse(a,c,d,e,g,f,i)}})}},e=va.prototype;e.parseComplex=function(a,b,c,d,e,g){var f=this.keyword,i,h,k,m;this.multi&&(t.test(c)||t.test(b)?(h=b.replace(t,"|").split("|"),k=c.replace(t,"|").split("|")):f&&(h=[b],k=[c]));if(k){m=k.length>h.length?k.length:h.length;for(i=0;i<m;i++)b=h[i]=h[i]||this.dflt,c=k[i]=k[i]||this.dflt,f&&(b=b.indexOf(f),c=c.indexOf(f),b!==c&&(c=c===-1?k:h,c[i]+=" "+f));b=h.join(", ");c=k.join(", ")}return ja(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,g)};e.parse=
function(a,b,c,d,e,f){return this.parseComplex(a.style,this.format(B(a,this.p,i,!1,this.dflt)),this.format(b),e,f)};b.registerSpecialProp=function(a,b,c){w(a,{parser:function(a,d,e,f,g,i){g=new I(a,e,0,0,g,2,e,!1,c);g.plugin=i;g.setRatio=b(a,d,f._tween,e);return g},priority:c})};var wa="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),S=ea("transform"),Ba=V+"transform",xa=ea("transformOrigin"),Z=ea("perspective")!==null,ia=function(a,c,d){var e=d?a._gsTransform||
{skewY:0}:{skewY:0},g=e.scaleX<0,f=-Math.PI+1.0E-4,i=Math.PI-1.0E-4,h=Z?parseFloat(B(a,xa,c,!1,"0 0 0").split(" ")[2])||e.zOrigin||0:0,k,m,j,l,n,o,r;if(S)k=B(a,Ba,c,!0);else if(a.currentStyle)if((k=a.currentStyle.filter.match(D))&&k.length===4)k=[k[0].substr(4),Number(k[2].substr(4)),Number(k[1].substr(4)),k[3].substr(4),e.x||0,e.y||0].join(",");else if(e.x!=null)return e;else k="";m=(k||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[];for(k=m.length;--k>-1;)j=Number(m[k]),m[k]=(l=j-(j|=0))?(l*1E5+(l<0?-0.5:
0.5)|0)/1E5+j:j;if(m.length===16){g=m[8];c=m[9];l=m[10];j=m[12];r=m[13];var p=m[14];e.zOrigin&&(p=-e.zOrigin,j=g*p-m[12],r=c*p-m[13],p=l*p+e.zOrigin-m[14]);if(!d||e.rotationX==null){var q=m[0],x=m[1],s=m[2],C=m[3],z=m[4],A=m[5],J=m[6],V=m[7];m=m[11];var t=e.rotationX=Math.atan2(J,l),F=t<f||t>i,H,y,u,w;t&&(u=Math.cos(-t),w=Math.sin(-t),t=z*u+g*w,H=A*u+c*w,y=J*u+l*w,g=z*-w+g*u,c=A*-w+c*u,l=J*-w+l*u,m=V*-w+m*u,z=t,A=H,J=y);if(t=e.rotationY=Math.atan2(g,q))n=t<f||t>i,u=Math.cos(-t),w=Math.sin(-t),H=x*
u-c*w,y=s*u-l*w,c=x*w+c*u,l=s*w+l*u,m=C*w+m*u,q=q*u-g*w,x=H,s=y;if(t=e.rotation=Math.atan2(x,A))o=t<f||t>i,u=Math.cos(-t),w=Math.sin(-t),q=q*u+z*w,H=x*u+A*w,A=x*-w+A*u,J=s*-w+J*u,x=H;if(o&&F)e.rotation=e.rotationX=0;else if(o&&n)e.rotation=e.rotationY=0;else if(n&&F)e.rotationY=e.rotationX=0;e.scaleX=(Math.sqrt(q*q+x*x)*1E5+0.5|0)/1E5;e.scaleY=(Math.sqrt(A*A+c*c)*1E5+0.5|0)/1E5;e.scaleZ=(Math.sqrt(J*J+l*l)*1E5+0.5|0)/1E5;e.skewX=0;e.perspective=m?1/(m<0?-m:m):0;e.x=j;e.y=r;e.z=p}}else if((!Z||m.length===
0||e.x!==m[4]||e.y!==m[5]||!e.rotationX&&!e.rotationY)&&!(e.x!==void 0&&B(a,"display",c)==="none")){l=(n=m.length>=6)?m[0]:1;j=m[1]||0;c=m[2]||0;r=n?m[3]:1;e.x=m[4]||0;e.y=m[5]||0;n=Math.sqrt(l*l+j*j);o=Math.sqrt(r*r+c*c);m=l||j?Math.atan2(j,l):e.rotation||0;c=c||r?Math.atan2(c,r)+m:e.skewX||0;l=n-Math.abs(e.scaleX||0);j=o-Math.abs(e.scaleY||0);Math.abs(c)>Math.PI/2&&Math.abs(c)<Math.PI*1.5&&(g?(n*=-1,c+=m<=0?Math.PI:-Math.PI,m+=m<=0?Math.PI:-Math.PI):(o*=-1,c+=c<=0?Math.PI:-Math.PI));g=(m-e.rotation)%
Math.PI;r=(c-e.skewX)%Math.PI;if(e.skewX===void 0||l>2.0E-5||l<-2.0E-5||j>2.0E-5||j<-2.0E-5||g>f&&g<i&&g*1E5|0||r>f&&r<i&&r*1E5|0)e.scaleX=n,e.scaleY=o,e.rotation=m,e.skewX=c;if(Z)e.rotationX=e.rotationY=e.z=0,e.perspective=parseFloat(b.defaultTransformPerspective)||0,e.scaleZ=1}e.zOrigin=h;for(k in e)e[k]<2.0E-5&&e[k]>-2.0E-5&&(e[k]=0);if(d)a._gsTransform=e;return e},Ca=function(a){var b=this.data,c=-b.rotation,e=c+b.skewX,g=(Math.cos(c)*b.scaleX*1E5|0)/1E5,c=(Math.sin(c)*b.scaleX*1E5|0)/1E5,i=(Math.sin(e)*
-b.scaleY*1E5|0)/1E5,e=(Math.cos(e)*b.scaleY*1E5|0)/1E5,m=this.t.style,h=this.t.currentStyle,k,j;if(h){j=c;c=-i;i=-j;k=h.filter;m.filter="";var l=this.t.offsetWidth;j=this.t.offsetHeight;var n=h.position!=="absolute",r="progid:DXImageTransform.Microsoft.Matrix(M11="+g+", M12="+c+", M21="+i+", M22="+e,o=b.x,p=b.y,q,x;b.ox!=null&&(q=(b.oxp?l*b.ox*0.01:b.ox)-l/2,x=(b.oyp?j*b.oy*0.01:b.oy)-j/2,o+=q-(q*g+x*c),p+=x-(q*i+x*e));if(n)q=l/2,x=j/2,r+=", Dx="+(q-(q*g+x*c)+o)+", Dy="+(x-(q*i+x*e)+p)+")";else{var s=
C<8?1:-1;q=b.ieOffsetX||0;x=b.ieOffsetY||0;b.ieOffsetX=Math.round((l-((g<0?-g:g)*l+(c<0?-c:c)*j))/2+o);b.ieOffsetY=Math.round((j-((e<0?-e:e)*j+(i<0?-i:i)*l))/2+p);for(N=0;N<4;N++)l=Aa[N],j=h[l],j=j.indexOf("px")!==-1?parseFloat(j):H(this.t,l,parseFloat(j),j.replace(f,""))||0,o=j!==b[l]?N<2?-b.ieOffsetX:-b.ieOffsetY:N<2?q-b.ieOffsetX:x-b.ieOffsetY,m[l]=(b[l]=Math.round(j-o*(N===0||N===2?1:s)))+"px";r+=", sizingMethod='auto expand')"}m.filter=k.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?k.replace(W,
r):r+" "+k;if(a===0||a===1)if(g===1&&c===0&&i===0&&e===1&&(!n||r.indexOf("Dx=0, Dy=0")!==-1))(!d.test(k)||parseFloat(RegExp.$1)===100)&&k.indexOf("gradient(")===-1&&m.removeAttribute("filter")}},Da=function(){var a=this.data,b=this.t.style,c=a.perspective,d=a.scaleX,e=0,g=0,f=0,i=0,m=a.scaleY,h=0,k=0,j=0,l=0,n=a.scaleZ,r=0,o=0,q=0,p=c?-1/c:0,s=a.rotation,C=a.zOrigin,z,t,A,u,J;if(x)z=b.top?"top":b.bottom?"bottom":parseFloat(B(this.t,"top",null,!1))?"bottom":"top",t=B(this.t,z,null,!1),A=parseFloat(t)||
0,u=t.substr((A+"").length)||"px",a._ffFix=!a._ffFix,b[z]=(a._ffFix?A+0.05:A-0.05)+u;if(s||a.skewX)t=d*Math.cos(s),A=m*Math.sin(s),s-=a.skewX,e=d*-Math.sin(s),m*=Math.cos(s),d=t,i=A;if(s=a.rotationY)z=Math.cos(s),s=Math.sin(s),u=n*-s,J=p*-s,g=d*s,h=i*s,n*=z,p*=z,d*=z,i*=z,j=u,o=J;if(s=a.rotationX)z=Math.cos(s),s=Math.sin(s),t=e*z+g*s,A=m*z+h*s,u=l*z+n*s,J=q*z+p*s,g=e*-s+g*z,h=m*-s+h*z,n=l*-s+n*z,p=q*-s+p*z,e=t,m=A,l=u,q=J;C&&(r-=C,f=g*r,k=h*r,r=n*r+C);f=(t=(f+=a.x)-(f|=0))?(t*1E5+(t<0?-0.5:0.5)|0)/
1E5+f:f;k=(t=(k+=a.y)-(k|=0))?(t*1E5+(t<0?-0.5:0.5)|0)/1E5+k:k;r=(t=(r+=a.z)-(r|=0))?(t*1E5+(t<0?-0.5:0.5)|0)/1E5+r:r;b[S]="matrix3d("+[(d*1E5|0)/1E5,(i*1E5|0)/1E5,(j*1E5|0)/1E5,(o*1E5|0)/1E5,(e*1E5|0)/1E5,(m*1E5|0)/1E5,(l*1E5|0)/1E5,(q*1E5|0)/1E5,(g*1E5|0)/1E5,(h*1E5|0)/1E5,(n*1E5|0)/1E5,(p*1E5|0)/1E5,f,k,r,c?1+-r/c:1].join(",")+")"},Ea=function(){var a=this.data,b=this.t,c=b.style,d,e,g;if(x)d=c.top?"top":c.bottom?"bottom":parseFloat(B(b,"top",null,!1))?"bottom":"top",e=B(b,d,null,!1),b=parseFloat(e)||
0,e=e.substr((b+"").length)||"px",a._ffFix=!a._ffFix,c[d]=(a._ffFix?b+0.05:b-0.05)+e;!a.rotation&&!a.skewX?c[S]="matrix("+a.scaleX+",0,0,"+a.scaleY+","+a.x+","+a.y+")":(d=a.rotation,b=d-a.skewX,e=a.scaleX*1E5,g=a.scaleY*1E5,c[S]="matrix("+(Math.cos(d)*e|0)/1E5+","+(Math.sin(d)*e|0)/1E5+","+(Math.sin(b)*-g|0)/1E5+","+(Math.cos(b)*g|0)/1E5+","+a.x+","+a.y+")")};w("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation",
{parser:function(a,b,c,d,e,g,f){if(d._transform)return e;var b=d._transform=ia(a,i,!0),m=a.style,h=wa.length,k={},j,l,r,n,o;if(typeof f.transform==="string"&&S)l=m.cssText,m[S]=f.transform,m.display="block",j=ia(a,null,!1),m.cssText=l;else if(typeof f==="object"){j={scaleX:ba(f.scaleX!=null?f.scaleX:f.scale,b.scaleX),scaleY:ba(f.scaleY!=null?f.scaleY:f.scale,b.scaleY),scaleZ:ba(f.scaleZ!=null?f.scaleZ:f.scale,b.scaleZ),x:ba(f.x,b.x),y:ba(f.y,b.y),z:ba(f.z,b.z),perspective:ba(f.transformPerspective,
b.perspective)};r=f.directionalRotation;if(r!=null)if(typeof r==="object")for(l in r)f[l]=r[l];else f.rotation=r;j.rotation=ha("rotation"in f?f.rotation:"shortRotation"in f?f.shortRotation+"_short":"rotationZ"in f?f.rotationZ:b.rotation*s,b.rotation,"rotation",k);if(Z)j.rotationX=ha("rotationX"in f?f.rotationX:"shortRotationX"in f?f.shortRotationX+"_short":b.rotationX*s||0,b.rotationX,"rotationX",k),j.rotationY=ha("rotationY"in f?f.rotationY:"shortRotationY"in f?f.shortRotationY+"_short":b.rotationY*
s||0,b.rotationY,"rotationY",k);j.skewX=f.skewX==null?b.skewX:ha(f.skewX,b.skewX);j.skewY=f.skewY==null?b.skewY:ha(f.skewY,b.skewY);if(l=j.skewY-b.skewY)j.skewX+=l,j.rotation+=l}n=b.z||b.rotationX||b.rotationY||j.z||j.rotationX||j.rotationY||j.perspective;if(!n&&f.scale!=null)j.scaleZ=1;for(;--h>-1;)if(c=wa[h],r=j[c]-b[c],r>1.0E-6||r<-1.0E-6||P[c]!=null){o=!0;e=new I(b,c,b[c],r,e);if(c in k)e.e=k[c];e.xs0=0;e.plugin=g;d._overwriteProps.push(e.n)}if((r=f.transformOrigin)||Z&&n&&b.zOrigin)S?(o=!0,r=
(r||B(a,c,i,!1,"50% 50%"))+"",c=xa,e=new I(m,c,0,0,e,-1,"css_transformOrigin"),e.b=m[c],e.plugin=g,Z?(l=b.zOrigin,r=r.split(" "),b.zOrigin=(r.length>2?parseFloat(r[2]):l)||0,e.xs0=e.e=m[c]=r[0]+" "+(r[1]||"50%")+" 0px",e=new I(b,"zOrigin",0,0,e,-1,e.n),e.b=l,e.xs0=e.e=b.zOrigin):e.xs0=e.e=m[c]=r):ma(r+"",b);if(o)d._transformType=n||this._transformType===3?3:2;return e},prefix:!0});w("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"});w("borderRadius",{defaultValue:"0px",
parser:function(a,b,c,d,e){var b=this.format(b),d=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],f=a.style,g,h,k,j,l,r,n,o,q,p,x,s;o=parseFloat(a.offsetWidth);q=parseFloat(a.offsetHeight);b=b.split(" ");for(g=0;g<d.length;g++)this.p.indexOf("border")&&(d[g]=ea(d[g])),j=k=B(a,d[g],i,!1,"0px"),j.indexOf(" ")!==-1&&(k=j.split(" "),j=k[0],k=k[1]),l=h=b[g],r=parseFloat(j),x=j.substr((r+"").length),(s=l.charAt(1)==="=")?(n=parseInt(l.charAt(0)+"1",10),
l=l.substr(2),n*=parseFloat(l),p=l.substr((n+"").length-(n<0?1:0))||""):(n=parseFloat(l),p=l.substr((n+"").length)),p===""&&(p=m[c]||x),p!==x&&(j=H(a,"borderLeft",r,x),r=H(a,"borderTop",r,x),p==="%"?(j=j/o*100+"%",k=r/q*100+"%"):p==="em"?(x=H(a,"borderLeft",1,"em"),j=j/x+"em",k=r/x+"em"):(j+="px",k=r+"px"),s&&(l=parseFloat(j)+n+p,h=parseFloat(k)+n+p)),e=ja(f,d[g],j+" "+k,l+" "+h,!1,"0px",e);return e},prefix:!0,formatter:ta("0px 0px 0px 0px",!1,!0)});w("backgroundPosition",{defaultValue:"0 0",parser:function(a,
b,c,d,e,f){var c=i||fa(a,null),c=this.format((c?C?c.getPropertyValue("background-position-x")+" "+c.getPropertyValue("background-position-y"):c.getPropertyValue("background-position"):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),b=this.format(b),g,k,m,h;if(c.indexOf("%")!==-1!==(b.indexOf("%")!==-1)&&(k=B(a,"backgroundImage").replace(U,""))&&k!=="none"){d=c.split(" ");g=b.split(" ");Y.setAttribute("src",k);for(k=2;--k>-1;)c=d[k],m=c.indexOf("%")!==-1,m!==(g[k].indexOf("%")!==
-1)&&(h=k===0?a.offsetWidth-Y.width:a.offsetHeight-Y.height,d[k]=m?parseFloat(c)/100*h+"px":parseFloat(c)/h*100+"%");c=d.join(" ")}return this.parseComplex(a.style,c,b,e,f)},formatter:ma});w("backgroundSize",{defaultValue:"0 0",formatter:ma});w("perspective",{defaultValue:"0px",prefix:!0});w("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0});w("transformStyle",{prefix:!0});w("backfaceVisibility",{prefix:!0});w("margin",{parser:ua("marginTop,marginRight,marginBottom,marginLeft")});w("padding",
{parser:ua("paddingTop,paddingRight,paddingBottom,paddingLeft")});w("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,e,f){C<9?(d=a.currentStyle,c=C<8?" ":",",d="rect("+d.clipTop+c+d.clipRight+c+d.clipBottom+c+d.clipLeft+")",b=this.format(b).split(",").join(c)):(d=this.format(B(a,this.p,i,!1,this.dflt)),b=this.format(b));return this.parseComplex(a.style,d,b,e,f)}});w("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0});w("autoRound,strictUnits",{parser:function(a,b,
c,d,e){return e}});w("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,e,f){return this.parseComplex(a.style,this.format(B(a,"borderTopWidth",i,!1,"0px")+" "+B(a,"borderTopStyle",i,!1,"solid")+" "+B(a,"borderTopColor",i,!1,"#000")),this.format(b),e,f)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(da)||["#000"])[0]}});w("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e){a=a.style;d="cssFloat"in a?"cssFloat":"styleFloat";return new I(a,
d,0,0,e,-1,c,!1,0,a[d],b)}});var Fa=function(a){var b=this.t,c=b.filter,a=this.s+this.c*a|0,e;if(a===100)c.indexOf("atrix(")===-1&&c.indexOf("radient(")===-1?(b.removeAttribute("filter"),e=!B(this.data,"filter")):(b.filter=c.replace(aa,""),e=!0);if(!e){if(this.xn1)b.filter=c=c||"alpha(opacity=100)";c.indexOf("opacity")===-1?b.filter+=" alpha(opacity="+a+")":b.filter=c.replace(d,"opacity="+a)}};w("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,e,f){var g=parseFloat(B(a,"opacity",
i,!1,"1")),k=a.style,m,b=parseFloat(b);if(c==="autoAlpha")m=B(a,"visibility",i),g===1&&m==="hidden"&&b!==0&&(g=0),e=new I(k,"visibility",0,0,e,-1,null,!1,0,g!==0?"visible":"hidden",b===0?"hidden":"visible"),e.xs0="visible",d._overwriteProps.push(e.n);A?e=new I(k,"opacity",g,b-g,e):(e=new I(k,"opacity",g*100,(b-g)*100,e),e.xn1=c==="autoAlpha"?1:0,k.zoom=1,e.type=2,e.b="alpha(opacity="+e.s+")",e.e="alpha(opacity="+(e.s+e.c)+")",e.data=a,e.plugin=f,e.setRatio=Fa);return e}});var ya=function(a,b){b&&
(a.removeProperty?a.removeProperty(b.replace(Q,"-$1").toLowerCase()):a.removeAttribute(b))},Ga=function(a){this.t._gsClassPT=this;if(a===1||a===0){this.t.className=a===0?this.b:this.e;for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:ya(c,b.p),b=b._next;if(a===1&&this.t._gsClassPT===this)this.t._gsClassPT=null}else if(this.t.className!==this.e)this.t.className=this.e};w("className",{parser:function(a,b,c,d,e,f,g){var k=a.className,m=a.style.cssText,h,j,l,e=d._classNamePT=new I(a,c,0,0,e,2);e.setRatio=
Ga;e.pr=-11;p=!0;e.b=k;c=ga(a,i);if(h=a._gsClassPT){j={};for(l=h.data;l;)j[l.p]=1,l=l._next;h.setRatio(1)}a._gsClassPT=e;e.e=b.charAt(1)!=="="?b:k.replace(RegExp("\\s*\\b"+b.substr(2)+"\\b"),"")+(b.charAt(0)==="+"?" "+b.substr(2):"");if(d._tween._duration)a.className=e.e,b=na(a,c,ga(a),g,j),a.className=k,e.data=b.firstMPT,a.style.cssText=m,e=e.xfirst=d.parse(a,b.difs,e,f);return e}});var Ha=function(a){if((a===1||a===0)&&this.data._totalTime===this.data._totalDuration)for(var a=this.e==="all",b=this.t.style,
c=a?b.cssText.split(";"):this.e.split(","),d=c.length,e=k.transform.parse,f;--d>-1;)f=c[d],a&&(f=f.substr(0,f.indexOf(":")).split(" ").join("")),k[f]&&(f=k[f].parse===e?S:k[f].p),ya(b,f)};w("clearProps",{parser:function(a,b,c,d,e){e=new I(a,c,0,0,e,2);e.setRatio=Ha;e.e=b;e.pr=-10;e.data=d._tween;p=!0;return e}});e="bezier,throwProps,physicsProps,physics2D".split(",");for(N=e.length;N--;)K(e[N]);e=b.prototype;e._firstPT=null;e._onInitTween=function(a,c,d){if(!a.nodeType)return!1;this._target=a;this._tween=
d;this._vars=c;u=c.autoRound;p=!1;m=c.suffixMap||b.suffixMap;i=fa(a,"");g=this._overwriteProps;var d=a.style,e,f,k,h;if(O&&d.zIndex===""&&(e=B(a,"zIndex",i),e==="auto"||e===""))d.zIndex=0;if(typeof c==="string"){f=d.cssText;e=ga(a,i);d.cssText=f+";"+c;e=na(a,e,ga(a)).difs;if(!A&&l.test(c))e.opacity=parseFloat(RegExp.$1);c=e;d.cssText=f}this._firstPT=c=this.parse(a,c,null);if(this._transformType){e=this._transformType===3;if(S){if(r){O=!0;if(d.zIndex===""&&(h=B(a,"zIndex",i),h==="auto"||h===""))d.zIndex=
0;if(z)d.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(e?"visible":"hidden")}}else d.zoom=1;for(d=c;d&&d._next;)d=d._next;h=new I(a,"transform",0,0,null,2);this._linkCSSP(h,null,d);h.setRatio=e&&Z?Da:S?Ea:Ca;h.data=this._transform||ia(a,i,!0);g.pop()}if(p){for(;c;){a=c._next;for(d=f;d&&d.pr>c.pr;)d=d._next;(c._prev=d?d._prev:k)?c._prev._next=c:f=c;(c._next=d)?d._prev=c:k=c;c=a}this._firstPT=f}return!0};e.parse=function(a,b,c,d){var e=a.style,g,h,j,l,r,n,o,p;for(g in b){r=b[g];if(h=
k[g])c=h.parse(a,r,g,this,c,d,b);else if(h=B(a,g,i)+"",o=typeof r==="string",g==="color"||g==="fill"||g==="stroke"||g.indexOf("Color")!==-1||o&&F.test(r))o||(r=qa(r),r=(r.length>3?"rgba(":"rgb(")+r.join(",")+")"),c=ja(e,g,h,r,!0,"transparent",c,0,d);else if(o&&(r.indexOf(" ")!==-1||r.indexOf(",")!==-1))c=ja(e,g,h,r,!0,null,c,0,d);else{n=(j=parseFloat(h))||j===0?h.substr((j+"").length):"";if(h===""||h==="auto")if(g==="width"||g==="height"){j=a;p=g;l=i;n=parseFloat(p==="width"?j.offsetWidth:j.offsetHeight);
p=za[p];var q=p.length;for(l=l||fa(j,null);--q>-1;)n-=parseFloat(B(j,"padding"+p[q],l,!0))||0,n-=parseFloat(B(j,"border"+p[q]+"Width",l,!0))||0;j=n;n="px"}else g==="left"||g==="top"?(j=ra(a,g,i),n="px"):(j=g!=="opacity"?0:1,n="");(p=o&&r.charAt(1)==="=")?(l=parseInt(r.charAt(0)+"1",10),r=r.substr(2),l*=parseFloat(r),o=r.replace(f,"")):(l=parseFloat(r),o=o?r.substr((l+"").length)||"":"");o===""&&(o=m[g]||n);r=l||l===0?(p?l+j:l)+o:b[g];if(n!==o&&o!==""&&(l||l===0))if(j||j===0)if(j=H(a,g,j,n),o==="%"?
(j/=H(a,g,100,"%")/100,j>100&&(j=100),b.strictUnits!==!0&&(h=j+"%")):o==="em"?j/=H(a,g,1,"em"):(l=H(a,g,l,o),o="px"),p&&(l||l===0))r=l+j+o;p&&(l+=j);(j||j===0)&&(l||l===0)?(c=new I(e,g,j,l-j,c,0,"css_"+g,u!==!1&&(o==="px"||g==="zIndex"),0,h,r),c.xs0=o):!r&&(r+""==="NaN"||r==null)?window.console&&console.log("invalid "+g+" tween value: "+b[g]):(c=new I(e,g,l||j||0,0,c,-1,"css_"+g,!1,0,h,r),c.xs0=r==="none"&&(g==="display"||g.indexOf("Style")!==-1)?h:r)}if(d&&c&&!c.plugin)c.plugin=d}return c};e.setRatio=
function(a){var b=this._firstPT,c,d;if(a===1&&(this._tween._time===this._tween._duration||this._tween._time===0))for(;b;)b.type!==2?b.t[b.p]=b.e:b.setRatio(a),b=b._next;else if(a||!(this._tween._time===this._tween._duration||this._tween._time===0)||this._tween._rawPrevTime===-1.0E-6)for(;b;){c=b.c*a+b.s;b.r?c=c>0?c+0.5|0:c-0.5|0:c<1.0E-6&&c>-1.0E-6&&(c=0);if(b.type)if(b.type===1)if(d=b.l,d===2)b.t[b.p]=b.xs0+c+b.xs1+b.xn1+b.xs2;else if(d===3)b.t[b.p]=b.xs0+c+b.xs1+b.xn1+b.xs2+b.xn2+b.xs3;else if(d===
4)b.t[b.p]=b.xs0+c+b.xs1+b.xn1+b.xs2+b.xn2+b.xs3+b.xn3+b.xs4;else if(d===5)b.t[b.p]=b.xs0+c+b.xs1+b.xn1+b.xs2+b.xn2+b.xs3+b.xn3+b.xs4+b.xn4+b.xs5;else{c=b.xs0+c+b.xs1;for(d=1;d<b.l;d++)c+=b["xn"+d]+b["xs"+(d+1)];b.t[b.p]=c}else b.type===-1?b.t[b.p]=b.xs0:b.setRatio&&b.setRatio(a);else b.t[b.p]=c+b.xs0;b=b._next}else for(;b;)b.type!==2?b.t[b.p]=b.b:b.setRatio(a),b=b._next};e._enableTransforms=function(a){this._transformType=a||this._transformType===3?3:2};e._linkCSSP=function(a,b,c,d){if(a){if(b)b._prev=
a;if(a._next)a._next._prev=a._prev;if(c)c._next=a;else if(!d&&this._firstPT===null)this._firstPT=a;if(a._prev)a._prev._next=a._next;else if(this._firstPT===a)this._firstPT=a._next;a._next=b;a._prev=c}return a};e._kill=function(a){var b=a,c,d;if(a.css_autoAlpha||a.css_alpha){b={};for(d in a)b[d]=a[d];b.css_opacity=1;if(b.css_autoAlpha)b.css_visibility=1}if(a.css_className&&(c=this._classNamePT)){if((a=c.xfirst)&&a._prev)this._linkCSSP(a._prev,c._next,a._prev._prev);else if(a===this._firstPT)this._firstPT=
c._next;c._next&&this._linkCSSP(c._next,c._next._next,a._prev);this._classNamePT=null}return h.prototype._kill.call(this,b)};var ka=function(a,b,c){var d,e,g;if(a.slice)for(d=a.length;--d>-1;)ka(a[d],b,c);else{a=a.childNodes;for(d=a.length;--d>-1;)e=a[d],g=e.type,e.style&&(b.push(ga(e)),c&&c.push(e)),(g===1||g===9||g===11)&&e.childNodes.length&&ka(e,b,c)}};b.cascadeTo=function(a,b,c){var d=j.to(a,b,c),e=[d],g=[],f=[],i=[],h=j._internals.reservedProps,k,a=d._targets||d.target;ka(a,g,i);d.render(b,
!0);ka(a,f);d.render(0,!0);d._enabled(!0);for(a=i.length;--a>-1;)if(d=na(i[a],g[a],f[a]),d.firstMPT){d=d.difs;for(k in c)h[k]&&(d[k]=c[k]);e.push(j.to(i[a],b,d))}return e};h.activate([b]);return b},!0)});window._gsDefine&&window._gsQueue.pop()();return CSSPlugin});
define("lib/giga/TransitionController","require,jquery,lib/tween/easing/EasePack,lib/signals,lib/tween/TweenLite,lib/tween/TimelineLite,lib/tween/plugins/CSSPlugin".split(","),function(h){var q=h("jquery");h("lib/tween/easing/EasePack");var j=h("lib/signals"),b=h("lib/tween/TweenLite");TimelineLite=h("lib/tween/TimelineLite");h("lib/tween/plugins/CSSPlugin");var h=function(b){this.giga=b;this.$context=b.$context;this.$hidden=b.$hidden;this.on={transitionOut:new j.Signal,transitionIn:new j.Signal};
this.duration=3;this.defaultin="fadeIn";this.defaultout="fadeOut"},p=h.prototype;p.setDefaultContentTarget=function(b){console.log("setDefaultContentTarget",b);this.$contentTarget=b};p.getTransitionSequence=function(h,i,g){console.log("transition sequence",h,i,g);if(i!=void 0){var k=[],e,a=[];i.each(function(){var b=q(this),c=b.data("rel");c!=e?(e=c,a.push(b)):a[a.length-1]=a[a.length-1].add(b)});for(var i=0,j=a.length;i<j;i++){var c=this.getTransitionStep(h,g,a[i]);k.push(c)}h=="out"&&k.reverse();
console.log("transitionList",k);h=new TimelineLite({paused:!0});h.add(new b.to({},1.0E-4,{dummy:0}));h.add(k,null,"sequence");return h}};p.getTransitionStep=function(h,i,g){console.log("getTransitionStep",h,i,g);var k=this;i.hold();var e,a;h=="in"?(e=function(){console.log("in onStart");k.on.transitionIn.dispatch();for(var a=0,b=g.length;a<b;a++){var c=q(g[a]),e;e=c.data("contenttarget");e!=void 0&&e!=""?(console.log("provided $contentTarget",e),e=q(e)):(console.log("default $contentTarget",k.$contentTarget),
e=k.$contentTarget);e.append(c)}},a=function(){console.log("in onComplete");i.release()}):h=="out"&&(e=function(){console.log("out onStart");k.on.transitionOut.dispatch()},a=function(){console.log("out onComplete");i.release();for(var a=0,b=g.length;a<b;a++){var c=q(g[a]);k.$hidden.prepend(c)}});console.log("transition step",g.length);var j=new TimelineLite;j.eventCallback("onStart",e);j.eventCallback("onComplete",a);e=[];e.push(new b.to({},k.duration,{dummy:0}));a=0;for(var c=g.length;a<c;a++){var n=
q(g[a]),f=n.data("transition"+h);k.transitions[f]==void 0&&(f=k["default"+h]);n=k.transitions[f](n);e.push(n)}j.add(e,null,"start");return j};p.registerTransitions=function(b){this.transitions=new b(this.giga);this.transitions.setTransitionManager(this);console.log(this.transitions)};return h});
define("lib/giga/Giga","require,lib/signals,lib/History,lib/giga/SiteController,lib/giga/FlowController,lib/giga/TransitionController".split(","),function(h){var q=h("lib/signals"),j=h("lib/History"),b=h("lib/giga/SiteController"),p=h("lib/giga/FlowController"),m=h("lib/giga/TransitionController"),h=function(g,i){var e=this;this.$context=g;this.$hidden=i;this.flowController=new p;this.siteController=new b(this.flowController);this.transitionController=new m(this);this.transitionController.setDefaultContentTarget($("#projectDetail",
this.$context));this.on={navigate:new q.Signal};this.siteRoot=$(".gigaBase").data("root");this.currentBranch=this.normalizeBranch(this.siteRoot);this.rootChangeBranch=this.transitioningBranch=this.targetBranch=null;j.Adapter.bind(window,"statechange",function(){var a=j.getState();console.log("statechange");console.log(a.url);console.log("short: "+j.getShortUrl(a.url));console.log("full: "+j.getFullUrl(a.url));console.log("root: "+j.getRootUrl());console.log("base: "+j.getBaseHref());console.log("getBaseUrl: "+
j.getBaseUrl());console.log("getPageUrl: "+j.getPageUrl());console.log("getBasePageUrl: "+j.getBasePageUrl());var a=j.getFullUrl(a.url),b=j.getRootUrl(),a=a.replace(b,"");e.gotoBranch(a)})},i=h.prototype;i.init=function(){var b=this;this.siteController.init(this.flowController.defaultFlow);this.siteController.on.transitionOut.add(function(a){var e=b.getOutgoingContent(b.transitioningBranch);b.transitionController.getTransitionSequence("out",e,a).play()});this.siteController.on.transitionIn.add(function(a){var e=
b.getIngoingContent(b.transitioningBranch);b.transitionController.getTransitionSequence("in",e,a).play()});this.siteController.on.transitionCross.add(function(a){console.log("transitionCross");var e=b.getOutgoingContent(b.transitioningBranch),f=b.getIngoingContent(b.transitioningBranch),e=b.transitionController.getTransitionSequence("out",e,a),d=b.transitionController.getTransitionSequence("in",f,a),a=e.getChildren(!1).length-1,f=d.getChildren(!1).length-1;if(a>0){e.play();var i=a;f>0&&(b.transitionController.on.transitionOut.removeAll(),
b.transitionController.on.transitionOut.add(function(){--i==0&&d.play()}))}else f>0&&d.play()});this.siteController.on.preload.add(function(a){a.hold();console.log("preload: ",b.transitioningBranch);b.preloadController.get(b.transitioningBranch,a).then(function(e){e.parent().length==0&&b.contentRenderer.addContent(e);a.release()})});this.siteController.on.complete.add(function(){b.currentBranch=b.transitioningBranch;b.navigateTo(b.targetBranch)});console.log("INIT: ",j.getLocationHref());console.log("short: "+
j.getShortUrl(j.getLocationHref()));console.log("full: "+j.getFullUrl(j.getLocationHref()));console.log("root: "+j.getRootUrl());console.log("base: "+j.getBaseHref());console.log("getBaseUrl: "+j.getBaseUrl());console.log("getPageUrl: "+j.getPageUrl());console.log("getBasePageUrl: "+j.getBasePageUrl());var i=j.getFullUrl(j.getLocationHref()),e=j.getRootUrl(),a=j.getHash();console.log("anchor: ",a);var i=i.replace(e,""),h=this.siteRoot;if(j.emulated.pushState)if(a.length>0)if(console.log("TEST: /"+
i+"  vs  "+h+"/#"+a),"/"+i==h+"/#"+a)e=h+"/"+a,window.document.location.href=window.document.URL;else{e=e.substring(0,e.length-1)+h+"#"+a;window.location.href=e;return}else if(i=this.normalizeBranch(i).replace(h,""),i=="/")e=h+i;else{e=e.substring(0,e.length-1)+h+"#"+i.substring(1);window.location.href=e;return}else if(a.length>0){window.location.href=this.normalizeBranch(h)+a;return}else e="/"+i;this.preloadController.init(e);this.gotoBranch(e)};i.getSelectorForBranch=function(b){console.log("getSelectorForBranch ",
b);var i="",e=b.split("/");e.pop();do{console.log("****");console.log(b);console.log(e);console.log(e.join("/"));console.log("****");var a=this.normalizeBranch(e.join("/"));i!=""&&(i+=", ");i+='.gigaContent[data-rel="'+a+'"]'}while(e.pop());console.log("selector",i);return i};i.getOutgoingContent=function(b){b=this.getSelectorForBranch(b);return $(".gigaContent[data-rel]").not(b).not(this.$hidden.children())};i.getIngoingContent=function(b){b=this.getSelectorForBranch(b);console.log("selector",b);
return $(b,this.$hidden)};i.setPreloadController=function(b){this.preloadController=new b(this.$context)};i.setContentRenderer=function(b){this.contentRenderer=new b(this.$context,this.$hidden);this.contentRenderer.init()};i.registerTransitions=function(b){this.transitionController.registerTransitions(b)};i.gotoBranch=function(b){b=this.normalizeBranch(b);if(this.targetBranch!=b)console.log("Giga goto","branch",b,"targetBranch",this.targetBranch),this.targetBranch=b,this.siteController.isBusy()||
this.navigateTo(b)};i.navigateTo=function(b){if(this.transitioningBranch!=b){this.on.navigate.dispatch();this.transitioningBranch=b;console.log("navigateTo :: "," from ",this.currentBranch," to ",this.transitioningBranch);var b=this.currentBranch.split("/"),i=this.transitioningBranch.split("/");this.rootChangeBranch="";for(var e=0,a=i.length;e<a;e++)if(this.rootChangeBranch=this.normalizeBranch(this.rootChangeBranch+i[e]),b[e]!=i[e])break;b=this.flowController.getBranchFlow(this.rootChangeBranch);
console.log("rootChangeBranch",this.rootChangeBranch,b);this.preloadController.rootChangeBranch=this.rootChangeBranch;b!=void 0?this.siteController.init(b):this.siteController.init(this.flowController.defaultFlow);this.siteController.processPageChange()}};i.normalizeBranch=function(b){b.indexOf("/",b.length-1)==-1&&(b+="/");b.indexOf("/")>0&&(b="/"+b);return b};i.setDefaultFlow=function(b){this.flowController.setDefaultFlow(b)};i.setBranchFlow=function(b,i){this.flowController.setBranchFlow(this.normalizeBranch(b),
i)};return h});
(function(h,q){h("q",["require"],function(h){function b(a,b,c,d){return(a instanceof p?a:m(a)).then(b,c,d)}function p(a,b){this._message=a;this.inspect=b}function m(a){return i(function(b){b(a)})}function i(a){return g(a,L.PromiseStatus&&L.PromiseStatus())}function g(b,d){function e(a){if(j){var b=j;j=u;D(function(){h=n(i,a);d&&aa(h,d);k(b,h)})}}function f(b){e(a(b))}function g(a){if(j){var b=j;D(function(){k(b,c(a))})}}var i,h,j=[];i=new p(function(a,b,c,d){function e(f){f._message(a,b,c,d)}j?j.push(e):
D(function(){e(h)})},function(){return h?h.inspect():{state:"pending"}});i._status=d;try{b(e,f,g)}catch(m){f(m)}return i}function k(a,b){for(var c=0;c<a.length;c++)a[c](b)}function e(a){return o(new d(a),function(){return y(a)})}function a(a){return o(new l(a),function(){return M(a)})}function o(b,c){return new p(function(c,d,e){try{e(b[c].apply(b,d))}catch(f){e(a(f))}},c)}function c(a){return new p(function(b,c,d,e){b=c[2];try{e(typeof b==="function"?b(a):a)}catch(f){e(f)}})}function n(b,c){if(c===
b)return a(new TypeError);if(c instanceof p)return c;try{var d=c===Object(c)&&c.then;return typeof d==="function"?f(d,c):e(c)}catch(g){return a(g)}}function f(a,b){return i(function(c,d){P(a,b,c,d)})}function d(a){this.value=a}function l(a){this.reason=a}function aa(a,b){a.then(function(){b.fulfilled()},function(a){b.rejected(a)})}function F(a){return a&&typeof a.then==="function"}function Q(a,c,d,e,f){return b(a,function(a){return i(function(d,e,f){function g(a){r(a)}function i(a){l(a)}var h,j,k,
m,l,r,n,o;n=a.length>>>0;h=Math.max(0,Math.min(c,n));k=[];j=n-h+1;m=[];if(h){r=function(a){m.push(a);--j||(l=r=t,e(m))};l=function(a){k.push(a);--h||(l=r=t,d(k))};for(o=0;o<n;++o)o in a&&b(a[o],i,g,f)}else d(k)}).then(d,e,f)})}function T(a,b,c,d){return U(a,t).then(b,c,d)}function U(a,c,d){return b(a,function(a){return g(function(e,f,g){function i(a,j){b(a,c,d).then(function(a){h[j]=a;--k||e(h)},f,g)}var h,j,k,m;k=j=a.length>>>0;h=[];if(k)for(m=0;m<j;m++)m in a?i(a[m],m):--k;else e(h)})})}function y(a){return{state:"fulfilled",
value:a}}function M(a){return{state:"rejected",reason:a}}function D(a){G.push(a)===1&&E(W)}function W(){k(G);G=[]}function t(a){return a}b.promise=i;b.resolve=m;b.reject=function(c){return b(c,a)};b.defer=function(){var b,c,d;b={promise:u,resolve:u,reject:u,notify:u,resolver:{resolve:u,reject:u,notify:u}};b.promise=c=i(function(e,f,g){b.resolve=b.resolver.resolve=function(a){if(d)return m(a);d=!0;e(a);return c};b.reject=b.resolver.reject=function(b){if(d)return m(a(b));d=!0;f(b);return c};b.notify=
b.resolver.notify=function(a){g(a);return a}});return b};b.join=function(){return U(arguments,t)};b.all=T;b.map=function(a,b){return U(a,b)};b.reduce=function(a,c){var d=P(s,arguments,1);return b(a,function(a){var e;e=a.length;d[0]=function(a,d,f){return b(a,function(a){return b(d,function(b){return c(a,b,f,e)})})};return X.apply(a,d)})};b.settle=function(a){return U(a,y,M)};b.any=function(a,b,c,d){return Q(a,1,function(a){return b?b(a[0]):a[0]},c,d)};b.some=Q;b.isPromise=F;b.isPromiseLike=F;p.prototype=
{then:function(a,b,c){var d,e;d=arguments;e=this._message;return g(function(a,b,c){e("when",d,a,c)},this._status&&this._status.observed())},otherwise:function(a){return this.then(u,a)},ensure:function(a){function b(){return m(a())}return typeof a==="function"?this.then(b,b).yield(this):this},yield:function(a){return this.then(function(){return a})},tap:function(a){return this.then(a).yield(this)},spread:function(a){return this.then(function(b){return T(b,function(b){return a.apply(u,b)})})},always:function(a,
b){return this.then(a,a,b)}};d.prototype.when=function(a){return typeof a==="function"?a(this.value):this.value};l.prototype.when=function(a,b){if(typeof b==="function")return b(this.reason);else throw this.reason;};var X,s,P,E,G,Y,K,L,u;G=[];Y=q.setTimeout;L=typeof console!="undefined"?console:b;if(typeof process==="object"&&process.nextTick)E=process.nextTick;else if(K=q.MutationObserver||q.WebKitMutationObserver)E=function(a,b,c){var d=a.createElement("div");(new b(c)).observe(d,{attributes:!0});
return function(){d.setAttribute("x","x")}}(document,K,W);else try{E=h("vertx").runOnLoop||h("vertx").runOnContext}catch(O){E=function(a){Y(a,0)}}h=Function.prototype;K=h.call;P=h.bind?K.bind(K):function(a,b){return a.apply(b,s.call(arguments,2))};h=[];s=h.slice;X=h.reduce||function(a){var b,c,d,e,f;f=0;b=Object(this);e=b.length>>>0;c=arguments;if(c.length<=1)for(;;){if(f in b){d=b[f++];break}if(++f>=e)throw new TypeError;}else d=c[1];for(;f<e;++f)f in b&&(d=a(d,b[f],f,b));return d};return b})})(typeof define===
"function"&&define.amd?define:function(h){module.exports=h(require)},this);
define("lib/giga/PreloadController",["require","jquery","lib/jquery.withSelf","q","lib/signals"],function(h){var q=h("jquery");h("lib/jquery.withSelf");var j=h("q"),b=h("lib/signals"),h=function(h){this.$context=h;this.on={start:new b.Signal,progress:new b.Signal,end:new b.Signal};var i=this;this.queue=new createjs.LoadQueue(!0);this.queue.addEventListener("fileprogress",function(b){i.on.progress.dispatch(b)});this.queue.addEventListener("fileload",function(b){i.onFetched(b.item.id,b.result)});this.cache=
{};this.dataUrl="data.php";this.rootChangeBranch=null},p=h.prototype;p.init=function(b){console.log("init",b);this.cacheContent(this.unwrapEnvelope(this.$context))};p.unwrapEnvelope=function(b){var b=b.withSelf(".gigaContent[data-rel]"),i,g=q();b.each(function(){var b=q(this),e=b.children(),a=b.data("rel");e.data("rel",a);e.attr("data-rel",a);e.addClass("gigaContent");i=b.parent();i.length>0?(console.log(e),b.detach(),i.append(e)):e.detach();g=g.add(e)});return q(g)};p.cacheContent=function(b){var i=
this,g=[],h=[],e=[];b.each(function(){var a=q(this),b=a.data("rel");console.log("cache:",b,a[0].outerHTML);var c=i.preloadImages(a);g.push(c);i.cache[b]!=void 0?c=i.cache[b]:(c=j.defer(),i.cache[b]=c);h[b]=c;e[b]==void 0&&(e[b]=[]);e[b].push(a)});j.all(g).then(function(){for(var a in h){for(var b=e[a],c=q(),g=0,f=b.length;g<f;g++)c=c.add(b[g]);h[a].resolve(c)}})};p.get=function(b){var i;this.cache[b]!=void 0?i=this.cache[b]:(i=j.defer(),this.cache[b]=i,this.fetchContent(b));return i.promise};p.fetchContent=
function(b){console.log("fetchContent",b);this.on.start.dispatch(b);var i=this.rootChangeBranch.split("/"),g=b.split("/");this.queue.loadFile({id:b,src:b+this.dataUrl,method:"POST",values:{depth:g.length-i.length}})};p.onFetched=function(b,i){this.on.end.dispatch(b);console.log("ok",i);var g="Title: "+b,h=History.getState(),h=History.getFullUrl(h.url),e=History.getRootUrl(),h="/"+h.replace(e,""),h=h.replace("#","");console.log("= = =");console.log("replace: ",h);console.log("= = =");document.title=
g;g=q(i);g=this.unwrapEnvelope(g);console.log("POST FETCH:",g);this.cacheContent(g)};p.preloadImages=function(b){var i=[];q("img",b).each(function(){var b=q(this);if(!b[0].complete&&b[0].ready!="complete"){var h=j.defer();i.push(h.promise);b.load(function(){h.resolve()})}});return j.all(i)};return h});
define("ContentRenderer",["require","jquery","lib/jquery.withSelf"],function(h){var q=h("jquery");h("lib/jquery.withSelf");var h=function(b,h){this.$context=b;this.$hidden=h},j=h.prototype;j.init=function(){this.$hidden.append(q(".gigaContent[data-rel]",this.$context));this.initNav(this.$context)};j.addContent=function(b){console.log("addContent",b);this.initNav(b);this.$hidden.append(b);return b};j.resolveRelative=function(b){for(;;){_parent=b.indexOf("/../");if(_parent===-1)break;else if(_parent===
0){b=b.substring(3);break}_pos=b.substring(0,_parent).lastIndexOf("/");_pos===-1&&(_pos=_parent);b=b.substring(0,_pos)+b.substring(_parent+3)}return b};j.initNav=function(b){var h=this;b.withSelf("a.nav").each(function(){var b=q(this),i=h.resolveRelative(b.attr("href"));b.click(function(b){b.preventDefault();console.log("= = =");console.log("push: ",i);console.log("= = =");History.pushState(null,null,i);return!1})})};return h});
define("test/Transitions",["require","jquery","lib/tween/easing/EasePack","lib/tween/TweenLite","lib/tween/plugins/CSSPlugin"],function(h){h("jquery");h("lib/tween/easing/EasePack");var q=h("lib/tween/TweenLite");h("lib/tween/plugins/CSSPlugin");var h=function(b){console.log("new TestTransitions");this.giga=b},j=h.prototype;j.setTransitionManager=function(b){this.transitionManager=b};j.fadeIn=function(b){console.log("GET fadeIn fn");b.css({opacity:0});return q.to(b,this.transitionManager.duration,
{opacity:1})};j.fadeOut=function(b){console.log("GET fadeOut fn");b.css({opacity:1});return q.to(b,this.transitionManager.duration,{opacity:0})};j.listIn=function(b){console.log("GET listIn fn");b.css({position:"relative"});return q.fromTo(b,this.transitionManager.duration,{left:-100},{left:0})};j.listOut=function(b){console.log("GET listOut fn");b.css({position:"relative"});return q.fromTo(b,this.transitionManager.duration,{left:0},{left:-100})};j.projectIn=function(b){console.log("GET projectIn fn");
var h=this;return function(){console.log("projectIn");b.hide();b.slideDown({duration:h.transitionManager.duration*1E3})}};j.projectOut=function(b){console.log("GET projectOut fn");var h=this;return function(){console.log("projectOut");b.slideUp({duration:h.transitionManager.duration*1E3})}};return h});
define("test/Site","require,jquery,lib/jquery.withSelf,lib/giga/Giga,lib/giga/PreloadController,ContentRenderer,test/Transitions".split(","),function(h){var q=h("jquery");h("lib/jquery.withSelf");var j=h("lib/giga/Giga"),b=h("lib/giga/PreloadController"),p=h("ContentRenderer"),m=h("test/Transitions"),i=function(b){this.init(b)},h=i.prototype;i.hiddenTemplate='<div style="display:none;"></div>';h.init=function(g){var h=q(i.hiddenTemplate);g.append(h);this.giga=new j(g,h);this.giga.setContentRenderer(p);
this.giga.setPreloadController(b);this.giga.registerTransitions(m);this.giga.setBranchFlow("/site/project2/",this.giga.flowController.CROSS_FLOW);this.giga.setBranchFlow("/site/project3/",this.giga.flowController.CROSS_FLOW);this.giga.init()};h.init2=function(){};return i});