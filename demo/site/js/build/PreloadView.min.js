this.createjs=this.createjs||{};(function(){var d=createjs.PreloadJS=createjs.PreloadJS||{};d.version="0.4.0";d.buildDate="Wed, 25 Sep 2013 17:09:35 GMT"})();this.createjs=this.createjs||{};
(function(){var d=function(c,b,e){this.initialize(c,b,e)},a=d.prototype;a.type=null;a.target=null;a.currentTarget=null;a.eventPhase=0;a.bubbles=!1;a.cancelable=!1;a.timeStamp=0;a.defaultPrevented=!1;a.propagationStopped=!1;a.immediatePropagationStopped=!1;a.removed=!1;a.initialize=function(c,b,e){this.type=c;this.bubbles=b;this.cancelable=e;this.timeStamp=(new Date).getTime()};a.preventDefault=function(){this.defaultPrevented=!0};a.stopPropagation=function(){this.propagationStopped=!0};a.stopImmediatePropagation=
function(){this.immediatePropagationStopped=this.propagationStopped=!0};a.remove=function(){this.removed=!0};a.clone=function(){return new d(this.type,this.bubbles,this.cancelable)};a.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=d})();this.createjs=this.createjs||{};
(function(){var d=function(){},a=d.prototype;d.initialize=function(c){c.addEventListener=a.addEventListener;c.on=a.on;c.removeEventListener=c.off=a.removeEventListener;c.removeAllEventListeners=a.removeAllEventListeners;c.hasEventListener=a.hasEventListener;c.dispatchEvent=a.dispatchEvent;c._dispatchEvent=a._dispatchEvent};a._listeners=null;a._captureListeners=null;a.initialize=function(){};a.addEventListener=function(c,b,e){var a;a=e?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var f=a[c];return f&&this.removeEventListener(c,b,e),f=a[c],f?f.push(b):a[c]=[b],b};a.on=function(c,b,e,a,f,d){return b.handleEvent&&(e=e||b,b=b.handleEvent),e=e||this,this.addEventListener(c,function(c){b.call(e,c,f);a&&c.remove()},d)};a.removeEventListener=function(c,b,e){if(e=e?this._captureListeners:this._listeners){var a=e[c];if(a)for(var f=0,d=a.length;d>f;f++)if(a[f]==b){1==d?delete e[c]:a.splice(f,1);break}}};a.off=a.removeEventListener;a.removeAllEventListeners=function(c){c?
(this._listeners&&delete this._listeners[c],this._captureListeners&&delete this._captureListeners[c]):this._listeners=this._captureListeners=null};a.dispatchEvent=function(c,b){if("string"==typeof c){var e=this._listeners;if(!e||!e[c])return!1;c=new createjs.Event(c)}if(c.target=b||this,c.bubbles&&this.parent){for(var a=this,e=[a];a.parent;)e.push(a=a.parent);for(var f=e.length,a=f-1;a>=0&&!c.propagationStopped;a--)e[a]._dispatchEvent(c,1+(0==a));for(a=1;f>a&&!c.propagationStopped;a++)e[a]._dispatchEvent(c,
3)}else this._dispatchEvent(c,2);return c.defaultPrevented};a.hasEventListener=function(c){var b=this._listeners,e=this._captureListeners;return!!(b&&b[c]||e&&e[c])};a.toString=function(){return"[EventDispatcher]"};a._dispatchEvent=function(c,b){var e,a=1==b?this._captureListeners:this._listeners;if(c&&a&&(a=a[c.type])&&(e=a.length)){c.currentTarget=this;c.eventPhase=b;c.removed=!1;a=a.slice();for(var f=0;e>f&&!c.immediatePropagationStopped;f++){var d=a[f];d.handleEvent?d.handleEvent(c):d(c);c.removed&&
(this.off(c.type,d,1==b),c.removed=!1)}}};createjs.EventDispatcher=d})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(d,a){for(var c=0,b=d.length;b>c;c++)if(a===d[c])return c;return-1}})();this.createjs=this.createjs||{};(function(){createjs.proxy=function(d,a){var c=Array.prototype.slice.call(arguments,2);return function(){return d.apply(a,Array.prototype.slice.call(arguments,0).concat(c))}}})();this.createjs=this.createjs||{};
(function(){var d=function(){this.init()};d.prototype={};var a=d.prototype;d.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;a.loaded=!1;a.canceled=!1;a.progress=0;a._item=null;a._basePath=null;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a.getItem=function(){return this._item};a.init=function(){};a.load=
function(){};a.close=function(){};a._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")};a._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,b=new createjs.Event("progress"),b.loaded=this.progress,b.total=1):(b=a,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0));b.progress=this.progress;this.hasEventListener("progress")&&this.dispatchEvent(b)}};a._sendComplete=function(){this._isCanceled()||
this.dispatchEvent("complete")};a._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new createjs.Event("error")),this.dispatchEvent(a))};a._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1};a._parseURI=function(a){return a?a.match(d.FILE_PATTERN):null};a._formatQueryString=function(a,b){if(null==a)throw Error("You must specify data.");var e=[],g;for(g in a)e.push(g+"="+escape(a[g]));return b&&(e=e.concat(b)),e.join("&")};a.buildPath=function(a,
b,e){if(null!=b){var g=this._parseURI(a);(null==g||null==g[1]||""==g[1])&&(a=b+a)}if(null==e)return a;b=[];g=a.indexOf("?");if(-1!=g)var d=a.slice(g+1),b=b.concat(d.split("&"));return-1!=g?a.slice(0,g)+"?"+this._formatQueryString(e,b):a+"?"+this._formatQueryString(e,b)};a.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=d})();this.createjs=this.createjs||{};
(function(){var d=function(b,a){this.init(b,a)},a=d.prototype=new createjs.AbstractLoader;d.LOAD_TIMEOUT=8E3;d.BINARY="binary";d.CSS="css";d.IMAGE="image";d.JAVASCRIPT="javascript";d.JSON="json";d.JSONP="jsonp";d.SOUND="sound";d.SVG="svg";d.TEXT="text";d.XML="xml";d.POST="POST";d.GET="GET";a.useXHR=!0;a.stopOnError=!1;a.maintainScriptOrder=!0;a.next=null;a._typeCallbacks=null;a._extensionCallbacks=null;a._loadStartWasDispatched=!1;a._maxConnections=1;a._currentlyLoadingScript=null;a._currentLoads=
null;a._loadQueue=null;a._loadQueueBackup=null;a._loadItemsById=null;a._loadItemsBySrc=null;a._loadedResults=null;a._loadedRawResults=null;a._numItems=0;a._numItemsLoaded=0;a._scriptOrder=null;a._loadedScripts=null;a.init=function(b,a){this._numItems=this._numItemsLoaded=0;this._paused=!1;this._loadStartWasDispatched=!1;this._currentLoads=[];this._loadQueue=[];this._loadQueueBackup=[];this._scriptOrder=[];this._loadedScripts=[];this._loadItemsById={};this._loadItemsBySrc={};this._loadedResults={};
this._loadedRawResults={};this._typeCallbacks={};this._extensionCallbacks={};this._basePath=a;this.setUseXHR(b)};a.setUseXHR=function(b){return this.useXHR=0!=b&&null!=window.XMLHttpRequest,this.useXHR};a.removeAll=function(){this.remove()};a.remove=function(b){var a=null;if(!b||b instanceof Array)if(b)a=b;else{if(arguments.length>0)return}else a=[b];var c=!1;if(a){for(;a.length;){for(var d=a.pop(),j=this.getResult(d),h=this._loadQueue.length-1;h>=0;h--)if(m=this._loadQueue[h].getItem(),m.id==d||
m.src==d){this._loadQueue.splice(h,1)[0].cancel();break}for(h=this._loadQueueBackup.length-1;h>=0;h--)if(m=this._loadQueueBackup[h].getItem(),m.id==d||m.src==d){this._loadQueueBackup.splice(h,1)[0].cancel();break}if(j)delete this._loadItemsById[j.id],delete this._loadItemsBySrc[j.src],this._disposeItem(j);else for(var h=this._currentLoads.length-1;h>=0;h--){var m=this._currentLoads[h].getItem();if(m.id==d||m.src==d){this._currentLoads.splice(h,1)[0].cancel();c=!0;break}}}c&&this._loadNext()}else{this.close();
for(d in this._loadItemsById)this._disposeItem(this._loadItemsById[d]);this.init(this.useXHR)}};a.reset=function(){this.close();for(var b in this._loadItemsById)this._disposeItem(this._loadItemsById[b]);b=[];for(i=0,l=this._loadQueueBackup.length;l>i;i++)b.push(this._loadQueueBackup[i].getItem());this.loadManifest(b,!1)};d.isBinary=function(b){switch(b){case createjs.LoadQueue.IMAGE:case createjs.LoadQueue.BINARY:return!0;default:return!1}};a.installPlugin=function(b){if(null!=b&&null!=b.getPreloadHandlers){b=
b.getPreloadHandlers();if(null!=b.types)for(var a=0,c=b.types.length;c>a;a++)this._typeCallbacks[b.types[a]]=b.callback;if(null!=b.extensions)for(a=0,c=b.extensions.length;c>a;a++)this._extensionCallbacks[b.extensions[a]]=b.callback}};a.setMaxConnections=function(b){this._maxConnections=b;!this._paused&&this._loadQueue.length>0&&this._loadNext()};a.loadFile=function(b,a,c){if(null==b)return b=new createjs.Event("error"),b.text="PRELOAD_NO_FILE",this._sendError(b),void 0;this._addItem(b,c);a!==!1?
this.setPaused(!1):this.setPaused(!0)};a.loadManifest=function(b,a,c){var d=null;if(b instanceof Array){if(0==b.length)return a=new createjs.Event("error"),a.text="PRELOAD_MANIFEST_EMPTY",this._sendError(a),void 0;d=b}else{if(null==b)return a=new createjs.Event("error"),a.text="PRELOAD_MANIFEST_NULL",this._sendError(a),void 0;d=[b]}for(var b=0,j=d.length;j>b;b++)this._addItem(d[b],c);a!==!1?this.setPaused(!1):this.setPaused(!0)};a.load=function(){this.setPaused(!1)};a.getItem=function(b){return this._loadItemsById[b]||
this._loadItemsBySrc[b]};a.getResult=function(b,a){var c=this._loadItemsById[b]||this._loadItemsBySrc[b];if(null==c)return null;c=c.id;return a&&this._loadedRawResults[c]?this._loadedRawResults[c]:this._loadedResults[c]};a.setPaused=function(b){this._paused=b;this._paused||this._loadNext()};a.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0;this._loadedScripts.length=0;this.loadStartWasDispatched=!1};a._addItem=function(b,a){var c=this._createLoadItem(b);
if(null!=c){var d=this._createLoader(c,a);null!=d&&(this._loadQueue.push(d),this._loadQueueBackup.push(d),this._numItems++,this._updateProgress(),this.maintainScriptOrder&&c.type==createjs.LoadQueue.JAVASCRIPT&&d instanceof createjs.XHRLoader&&(this._scriptOrder.push(c),this._loadedScripts.push(null)))}};a._createLoadItem=function(b){var a=null;switch(typeof b){case "string":a={src:b};break;case "object":a=window.HTMLAudioElement&&b instanceof HTMLAudioElement?{tag:b,src:a.tag.src,type:createjs.LoadQueue.SOUND}:
b;break;default:return null}b=this._parseURI(a.src);if(null!=b&&(a.ext=b[5]),null==a.type&&(a.type=this._getTypeByExtension(a.ext)),a.type==createjs.LoadQueue.JSON&&null!=a.callback&&(a.type=createjs.LoadQueue.JSONP),a.type==createjs.LoadQueue.JSONP&&null==a.callback)throw Error("callback is required for loading JSONP requests.");null==a.tag&&(a.tag=this._createTag(a.type));(null==a.id||""==a.id)&&(a.id=a.src);var c=this._typeCallbacks[a.type]||this._extensionCallbacks[a.ext];if(c){c=c(a.src,a.type,
a.id,a.data);if(c===!1)return null;c===!0||(null!=c.src&&(a.src=c.src),null!=c.id&&(a.id=c.id),null!=c.tag&&c.tag.load instanceof Function&&(a.tag=c.tag),null!=c.completeHandler&&(a.completeHandler=c.completeHandler));c.type&&(a.type=c.type);b=this._parseURI(a.src);null!=b&&null!=b[5]&&(a.ext=b[5].toLowerCase())}return this._loadItemsById[a.id]=a,this._loadItemsBySrc[a.src]=a,a};a._createLoader=function(b,a){var c=this.useXHR;switch(b.type){case createjs.LoadQueue.JSON:case createjs.LoadQueue.XML:case createjs.LoadQueue.TEXT:c=
!0;break;case createjs.LoadQueue.SOUND:case createjs.LoadQueue.JSONP:c=!1;break;case null:return null}return null==a&&(a=this._basePath),c?new createjs.XHRLoader(b,a):new createjs.TagLoader(b,a)};a._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0);this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=
this._maxConnections);a++){var c=this._loadQueue[a];if(this.maintainScriptOrder&&c instanceof createjs.TagLoader&&c.getItem().type==createjs.LoadQueue.JAVASCRIPT){if(this._currentlyLoadingScript)continue;this._currentlyLoadingScript=!0}this._loadQueue.splice(a,1);a--;this._loadItem(c)}}};a._loadItem=function(a){a.addEventListener("progress",createjs.proxy(this._handleProgress,this));a.addEventListener("complete",createjs.proxy(this._handleFileComplete,this));a.addEventListener("error",createjs.proxy(this._handleFileError,
this));this._currentLoads.push(a);this._sendFileStart(a.getItem());a.load()};a._handleFileError=function(a){var c=a.target;this._numItemsLoaded++;this._updateProgress();a=new createjs.Event("error");a.text="FILE_LOAD_ERROR";a.item=c.getItem();this._sendError(a);this.stopOnError||(this._removeLoadItem(c),this._loadNext())};a._handleFileComplete=function(a){var a=a.target,c=a.getItem();if(this._loadedResults[c.id]=a.getResult(),a instanceof createjs.XHRLoader&&(this._loadedRawResults[c.id]=a.getResult(!0)),
this._removeLoadItem(a),this.maintainScriptOrder&&c.type==createjs.LoadQueue.JAVASCRIPT){if(!(a instanceof createjs.TagLoader))return this._loadedScripts[createjs.indexOf(this._scriptOrder,c)]=c,this._checkScriptLoadOrder(a),void 0;this._currentlyLoadingScript=!1}this._processFinishedLoad(c,a)};a._processFinishedLoad=function(a,c){this._numItemsLoaded++;this._updateProgress();this._sendFileComplete(a,c);this._loadNext()};a._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,c=0;a>
c;c++){var d=this._loadedScripts[c];if(null===d)break;d!==!0&&(this._processFinishedLoad(d),this._loadedScripts[c]=!0,c--,a--)}};a._removeLoadItem=function(a){for(var c=this._currentLoads.length,d=0;c>d;d++)if(this._currentLoads[d]==a){this._currentLoads.splice(d,1);break}};a._handleProgress=function(a){a=a.target;this._sendFileProgress(a.getItem(),a.progress);this._updateProgress()};a._updateProgress=function(){var a=this._numItemsLoaded/this._numItems,c=this._numItems-this._numItemsLoaded;if(c>
0){for(var d=0,f=0,j=this._currentLoads.length;j>f;f++)d+=this._currentLoads[f].progress;a+=d/c*(c/this._numItems)}this._sendProgress(a)};a._disposeItem=function(a){delete this._loadedResults[a.id];delete this._loadedRawResults[a.id];delete this._loadItemsById[a.id];delete this._loadItemsBySrc[a.src]};a._createTag=function(a){var c=null;switch(a){case createjs.LoadQueue.IMAGE:return document.createElement("img");case createjs.LoadQueue.SOUND:return c=document.createElement("audio"),c.autoplay=!1,
c;case createjs.LoadQueue.JSONP:case createjs.LoadQueue.JAVASCRIPT:return c=document.createElement("script"),c.type="text/javascript",c;case createjs.LoadQueue.CSS:return c=this.useXHR?document.createElement("style"):document.createElement("link"),c.rel="stylesheet",c.type="text/css",c;case createjs.LoadQueue.SVG:return this.useXHR?c=document.createElement("svg"):(c=document.createElement("object"),c.type="image/svg+xml"),c}return null};a._getTypeByExtension=function(a){if(null==a)return createjs.LoadQueue.TEXT;
switch(a.toLowerCase()){case "jpeg":case "jpg":case "gif":case "png":case "webp":case "bmp":return createjs.LoadQueue.IMAGE;case "ogg":case "mp3":case "wav":return createjs.LoadQueue.SOUND;case "json":return createjs.LoadQueue.JSON;case "xml":return createjs.LoadQueue.XML;case "css":return createjs.LoadQueue.CSS;case "js":return createjs.LoadQueue.JAVASCRIPT;case "svg":return createjs.LoadQueue.SVG;default:return createjs.LoadQueue.TEXT}};a._sendFileProgress=function(a,c){if(this._isCanceled())return this._cleanUp(),
void 0;if(this.hasEventListener("fileprogress")){var d=new createjs.Event("fileprogress");d.progress=c;d.loaded=c;d.total=1;d.item=a;this.dispatchEvent(d)}};a._sendFileComplete=function(a,c){if(!this._isCanceled()){var d=new createjs.Event("fileload");d.loader=c;d.item=a;d.result=this._loadedResults[a.id];d.rawResult=this._loadedRawResults[a.id];a.completeHandler&&a.completeHandler(d);this.hasEventListener("fileload")&&this.dispatchEvent(d)}};a._sendFileStart=function(a){var c=new createjs.Event("filestart");
c.item=a;this.hasEventListener("filestart")&&this.dispatchEvent(c)};a.toString=function(){return"[PreloadJS LoadQueue]"};createjs.LoadQueue=d;var c=function(){};c.init=function(){var a=navigator.userAgent;c.isFirefox=a.indexOf("Firefox")>-1;c.isOpera=null!=window.opera;c.isChrome=a.indexOf("Chrome")>-1;c.isIOS=a.indexOf("iPod")>-1||a.indexOf("iPhone")>-1||a.indexOf("iPad")>-1};c.init();createjs.LoadQueue.BrowserDetect=c})();this.createjs=this.createjs||{};
(function(){var d=function(a,b){this.init(a,b)},a=d.prototype=new createjs.AbstractLoader;a._loadTimeout=null;a._tagCompleteProxy=null;a._isAudio=!1;a._tag=null;a._jsonResult=null;a.init=function(a,b){this._item=a;this._basePath=b;this._tag=a.tag;this._isAudio=window.HTMLAudioElement&&a.tag instanceof HTMLAudioElement;this._tagCompleteProxy=createjs.proxy(this._handleLoad,this)};a.getResult=function(){return this._item.type==createjs.LoadQueue.JSONP?this._jsonResult:this._tag};a.cancel=function(){this.canceled=
!0;this._clean();this.getItem()};a.load=function(){var a=this._item,b=this._tag;clearTimeout(this._loadTimeout);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT);this._isAudio&&(b.src=null,b.preload="auto");b.onerror=createjs.proxy(this._handleError,this);this._isAudio?(b.onstalled=createjs.proxy(this._handleStalled,this),b.addEventListener("canplaythrough",this._tagCompleteProxy,!1)):(b.onload=createjs.proxy(this._handleLoad,this),b.onreadystatechange=
createjs.proxy(this._handleReadyStateChange,this));var d=this.buildPath(a.src,this._basePath,a.values);switch(a.type){case createjs.LoadQueue.CSS:b.href=d;break;case createjs.LoadQueue.SVG:b.data=d;break;default:b.src=d}if(a.type==createjs.LoadQueue.JSONP){if(null==a.callback)throw Error("callback is required for loading JSONP requests.");if(null!=window[a.callback])throw Error('JSONP callback "'+a.callback+'" already exists on window. You need to specify a different callback. Or re-name the current one.');
window[a.callback]=createjs.proxy(this._handleJSONPLoad,this)}(a.type==createjs.LoadQueue.SVG||a.type==createjs.LoadQueue.JSONP||a.type==createjs.LoadQueue.JSON||a.type==createjs.LoadQueue.JAVASCRIPT||a.type==createjs.LoadQueue.CSS)&&(this._startTagVisibility=b.style.visibility,b.style.visibility="hidden",(document.body||document.getElementsByTagName("body")[0]).appendChild(b));null!=b.load&&b.load()};a._handleJSONPLoad=function(a){this._jsonResult=a};a._handleTimeout=function(){this._clean();var a=
new createjs.Event("error");a.text="PRELOAD_TIMEOUT";this._sendError(a)};a._handleStalled=function(){};a._handleError=function(){this._clean();this._sendError(new createjs.Event("error"))};a._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this.getItem().tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleLoad()};a._handleLoad=function(){if(!this._isCanceled()){var a=this.getItem(),b=a.tag;if(!(this.loaded||this.isAudio&&4!==b.readyState)){switch(this.loaded=
!0,a.type){case createjs.LoadQueue.SVG:case createjs.LoadQueue.JSONP:b.style.visibility=this._startTagVisibility,(document.body||document.getElementsByTagName("body")[0]).removeChild(b)}this._clean();this._sendComplete()}}};a._clean=function(){clearTimeout(this._loadTimeout);var a=this.getItem().tag;a.onload=null;a.removeEventListener&&a.removeEventListener("canplaythrough",this._tagCompleteProxy,!1);a.onstalled=null;a.onprogress=null;a.onerror=null;a.parentNode&&a.parentNode.removeChild(a);a=this.getItem();
a.type==createjs.LoadQueue.JSONP&&(window[a.callback]=null)};a.toString=function(){return"[PreloadJS TagLoader]"};createjs.TagLoader=d})();this.createjs=this.createjs||{};
(function(){var d=function(a,b){this.init(a,b)},a=d.prototype=new createjs.AbstractLoader;a._request=null;a._loadTimeout=null;a._xhrLevel=1;a._response=null;a._rawResponse=null;a.init=function(a,b){this._item=a;this._basePath=b;this._createXHR(a)};a.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response};a.cancel=function(){this.canceled=!0;this._clean();this._request.abort()};a.load=function(){if(null==this._request)return this._handleError(),void 0;this._request.onloadstart=
createjs.proxy(this._handleLoadStart,this);this._request.onprogress=createjs.proxy(this._handleProgress,this);this._request.onabort=createjs.proxy(this._handleAbort,this);this._request.onerror=createjs.proxy(this._handleError,this);this._request.ontimeout=createjs.proxy(this._handleTimeout,this);1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT));this._request.onload=createjs.proxy(this._handleLoad,this);this._request.onreadystatechange=
createjs.proxy(this._handleReadyStateChange,this);try{this._item.values&&this._item.method!=createjs.LoadQueue.GET?this._item.method==createjs.LoadQueue.POST&&this._request.send(this._formatQueryString(this._item.values)):this._request.send()}catch(a){var b=new createjs.Event("error");b.error=a;this._sendError(b)}};a.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null};a.getResponseHeader=function(a){return this._request.getResponseHeader instanceof
Function?this._request.getResponseHeader(a):null};a._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.Event("progress");b.loaded=a.loaded;b.total=a.total;this._sendProgress(b)}};a._handleLoadStart=function(){clearTimeout(this._loadTimeout);this._sendLoadStart()};a._handleAbort=function(a){this._clean();a=new createjs.Event("error");a.text="XHR_ABORTED";this._sendError(a)};a._handleError=function(){this._clean();this._sendError(new createjs.Event("error"))};a._handleReadyStateChange=
function(){4==this._request.readyState&&this._handleLoad()};a._handleLoad=function(){if(!this.loaded){if(this.loaded=!0,!this._checkError())return this._handleError(),void 0;this._response=this._getResponse();this._clean();this._generateTag()&&this._sendComplete()}};a._handleTimeout=function(a){this._clean();(new createjs.Event("error")).text="PRELOAD_TIMEOUT";this._sendError(a)};a._checkError=function(){switch(parseInt(this._request.status)){case 404:case 0:return!1}return!0};a._getResponse=function(){if(null!=
this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(b){}return null};a._createXHR=function(a){var b=document.createElement("a");b.href=this.buildPath(a.src,this._basePath);var d=document.createElement("a");d.href=location.href;b=""!=b.hostname&&(b.port!=d.port||b.protocol!=d.protocol||b.hostname!=
d.hostname);d=null;if(b&&window.XDomainRequest)d=new XDomainRequest;else if(window.XMLHttpRequest)d=new XMLHttpRequest;else try{d=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(g){try{d=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(f){try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch(j){return!1}}}a.type==createjs.LoadQueue.TEXT&&d.overrideMimeType&&d.overrideMimeType("text/plain; charset=x-user-defined");this._xhrLevel="string"==typeof d.responseType?2:1;var h=null;return h=a.method==createjs.LoadQueue.GET?
this.buildPath(a.src,this._basePath,a.values):this.buildPath(a.src,this._basePath),d.open(a.method||createjs.LoadQueue.GET,h,!0),b&&d instanceof XMLHttpRequest&&1==this._xhrLevel&&d.setRequestHeader("Origin",location.origin),a.values&&a.method==createjs.LoadQueue.POST&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),createjs.LoadQueue.isBinary(a.type)&&(d.responseType="arraybuffer"),this._request=d,!0};a._clean=function(){clearTimeout(this._loadTimeout);var a=this._request;
a.onloadstart=null;a.onprogress=null;a.onabort=null;a.onerror=null;a.onload=null;a.ontimeout=null;a.onloadend=null;a.onreadystatechange=null};a._generateTag=function(){var a=this._item.tag;switch(this._item.type){case createjs.LoadQueue.IMAGE:return a.onload=createjs.proxy(this._handleTagReady,this),a.src=this.buildPath(this._item.src,this._basePath,this._item.values),this._rawResponse=this._response,this._response=a,!1;case createjs.LoadQueue.JAVASCRIPT:return a=document.createElement("script"),
a.text=this._response,this._rawResponse=this._response,this._response=a,!0;case createjs.LoadQueue.CSS:if(document.getElementsByTagName("head")[0].appendChild(a),a.styleSheet)a.styleSheet.cssText=this._response;else{var b=document.createTextNode(this._response);a.appendChild(b)}return this._rawResponse=this._response,this._response=a,!0;case createjs.LoadQueue.XML:return b=this._parseXML(this._response,"text/xml"),this._response=b,!0;case createjs.LoadQueue.SVG:return b=this._parseXML(this._response,
"image/svg+xml"),this._rawResponse=this._response,null!=b.documentElement?(a.appendChild(b.documentElement),this._response=a):this._response=b,!0;case createjs.LoadQueue.JSON:a={};try{a=JSON.parse(this._response)}catch(d){a=d}return this._rawResponse=this._response,this._response=a,!0}return!0};a._parseXML=function(a,b){var d=null;window.DOMParser?d=(new DOMParser).parseFromString(a,b):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(a));return d};a._handleTagReady=function(){this._sendComplete()};
a.toString=function(){return"[PreloadJS XHRLoader]"};createjs.XHRLoader=d})();"object"!=typeof JSON&&(JSON={});
(function(){function d(a){return 10>a?"0"+a:a}function a(a){return e.lastIndex=0,e.test(a)?'"'+a.replace(e,function(a){var b=j[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(b,d){var e,j,n,p,o,q=g,k=d[b];switch(k&&"object"==typeof k&&"function"==typeof k.toJSON&&(k=k.toJSON(b)),"function"==typeof h&&(k=h.call(d,b,k)),typeof k){case "string":return a(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);
case "object":if(!k)return"null";if(g+=f,o=[],"[object Array]"===Object.prototype.toString.apply(k)){for(p=k.length,e=0;p>e;e+=1)o[e]=c(e,k)||"null";return n=0===o.length?"[]":g?"[\n"+g+o.join(",\n"+g)+"\n"+q+"]":"["+o.join(",")+"]",g=q,n}if(h&&"object"==typeof h)for(p=h.length,e=0;p>e;e+=1)"string"==typeof h[e]&&(j=h[e],n=c(j,k),n&&o.push(a(j)+(g?": ":":")+n));else for(j in k)Object.prototype.hasOwnProperty.call(k,j)&&(n=c(j,k),n&&o.push(a(j)+(g?": ":":")+n));return n=0===o.length?"{}":g?"{\n"+g+
o.join(",\n"+g)+"\n"+q+"}":"{"+o.join(",")+"}",g=q,n}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate())+"T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,f,j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,d){var e;if(g="",f="","number"==typeof d)for(e=0;d>e;e+=1)f+=" ";else"string"==typeof d&&(f=d);if(h=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw Error("JSON.stringify");return c("",
{"":a})});"function"!=typeof JSON.parse&&(JSON.parse=function(a,c){function d(a,b){var e,f,g=a[b];if(g&&"object"==typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=d(g,e),void 0!==f?g[e]=f:delete g[e]);return c.call(a,b,g)}var e;if(a=String(a),b.lastIndex=0,b.test(a)&&(a=a.replace(b,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse");})})();window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(d){return window.setTimeout(d,1E3/60)}}();window.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}();(function(){var d=function(a){this.queue=a;this.canvasH=this.canvasW=250},a=d.prototype;a.setImgSrc=function(a){this.imgSrc=a};a.init=function(){this.initEvents();this.initView()};a.initEvents=function(){var a=this;this.queue.addEventListener("fileprogress",function(c){a.onProgress(c)});this.queue.addEventListener("fileload",function(c){a.onFileLoad(c)});this.queue.addEventListener("complete",function(){console.log("complete!");a.progress.setValue(1)})};a.onProgress=function(){this.progress.setValue(this.queue.progress)};
a.onFileLoad=function(a){document.head.appendChild(a.result)};a.initView=function(){try{var a=document.createElement("canvas");this.ctx=a.getContext("2d")}catch(d){a=G_vmlCanvasManager.initElement(a),this.ctx=a.getContext("2d")}a.setAttribute("width",this.canvasW);a.setAttribute("height",this.canvasH);a.className="canvas preloader";document.documentElement.appendChild(a);this.theta=0;this.progress=new c;this.progress.spectrumImg=new Image;this.progress.spectrumImg.src=this.imgSrc;this.progress.setContext(this.ctx);
var g=this;(function j(){console.log("anim");g.animationId=requestAnimFrame(j);g.animLoop()})()};a.animLoop=function(){this.theta+=-0.01;if(this.theta>Math.PI*2)this.theta=0;if(this.theta<0)this.theta=Math.PI*2;this.progress.setTheta(this.theta);this.progress.draw();this.progress.value==1&&(console.log("cancel animation!"),cancelAnimationFrame(this.animationId))};window.PreloadView=d;var c=function(){this.theta=this.value=0;this.width=this.segments=5;this.capWidth=15;this.radius=30;this.radii1=this.radius-
this.width/2-(this.capWidth-this.width)/2;this.radii2=this.radius-this.width/2;this.radii3=this.radius+this.width/2;this.radii4=this.radius+this.width/2+(this.capWidth-this.width)/2;this.arcWidth=Math.PI*2/this.segments;this.fillColor="#666666";this.strokeColor="#252525"},a=c.prototype;a.setContext=function(a){this.ctx=a;this.canvasW=a.canvas.width;this.canvasH=a.canvas.height;this.midX=a.canvas.width/2;this.midY=a.canvas.height/2;a.strokeStyle=this.strokeColor;a.lineWidth=2;a.fillStyle=this.fillColor};
a.setValue=function(a){this.value=a};a.setTheta=function(a){this.theta=a};a.clear=function(){this.ctx.clearRect(0,0,this.canvasW,this.canvasH)};a.draw=function(){this.clear();this.drawSegments();this.drawCaps()};a.drawSegments=function(){var a=this.ctx;a.globalCompositeOperation="source-over";if(this.spectrumImg.complete)a.translate(this.canvasW/2,this.canvasH/2),a.rotate(-this.theta),a.drawImage(this.spectrumImg,-this.canvasW/2,-this.canvasH/2,this.canvasW,this.canvasH),a.rotate(this.theta),a.translate(-this.canvasW/
2,-this.canvasH/2),a.globalCompositeOperation="destination-in";if(this.value!=1){a.beginPath();for(var c=0,d=this.segments;c<d;c++){var f=this.theta+c/d*Math.PI*2,j=f+this.value*this.arcWidth,h=Math.sin(f),m=Math.cos(f),r=Math.sin(j),s=Math.cos(j);a.moveTo(this.midX+m*this.radii2,this.midY+h*this.radii2);a.lineTo(this.midX+m*this.radii3,this.midY+h*this.radii3);a.arc(this.midX,this.midY,this.radii3,f,j);a.lineTo(this.midX+s*this.radii2,this.midY+r*this.radii2);a.arc(this.midX,this.midY,this.radii2,
j,f,!0);a.moveTo(this.midX+m*this.radii2,this.midY+h*this.radii2)}}else a.globalCompositeOperation="destination-in",a.beginPath(),a.arc(this.midX,this.midY,this.radii3,0,Math.PI*2),a.closePath(),a.fill(),a.globalCompositeOperation="source-over",a.stroke(),a.globalCompositeOperation="destination-out",a.beginPath(),a.arc(this.midX,this.midY,this.radii2,0,Math.PI*2,!0),a.closePath();a.fill();a.globalCompositeOperation="source-over";a.stroke()};a.drawCaps=function(){if(this.value!=1)for(var a=this.ctx,
c=0,d=this.segments;c<d;c++){a.beginPath();var f=(this.theta+c/d*Math.PI*2)%(Math.PI*2),j=f+this.value*this.arcWidth,h=Math.sin(f),f=Math.cos(f),m=Math.sin(j),j=Math.cos(j);a.moveTo(this.midX+f*this.radii1,this.midY+h*this.radii1);a.lineTo(this.midX+f*this.radii4,this.midY+h*this.radii4);a.moveTo(this.midX+j*this.radii1,this.midY+m*this.radii1);a.lineTo(this.midX+j*this.radii4,this.midY+m*this.radii4);a.closePath();a.stroke()}}})();